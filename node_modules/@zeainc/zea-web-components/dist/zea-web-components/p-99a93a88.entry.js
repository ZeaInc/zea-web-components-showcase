import{r as t,h as e,H as i,a as n}from"./p-6fd09c7c.js";var r,o=[],s="ResizeObserver loop completed with undelivered notifications.";!function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(r||(r={}));var c,u=function(){function t(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),a=function(t){return t instanceof SVGElement&&"getBBox"in t},h=function(t){if(a(t)){var e=t.getBBox();return!e.width&&!e.height}return!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},l=function(t){var e,i,n=null===(i=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===i?void 0:i.defaultView;return!!(n&&t instanceof n.Element)},f="undefined"!=typeof window?window:{},d=new WeakMap,v=/auto|scroll/,b=/^tb|vertical/,p=/msie|trident/i.test(f.navigator&&f.navigator.userAgent),w=function(t){return parseFloat(t||"0")},m=function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=!1),Object.freeze({inlineSize:(i?e:t)||0,blockSize:(i?t:e)||0})},x=Object.freeze({devicePixelContentBoxSize:m(),borderBoxSize:m(),contentBoxSize:m(),contentRect:new u(0,0,0,0)}),g=function(t,e){if(void 0===e&&(e=!1),d.has(t)&&!e)return d.get(t);if(h(t))return d.set(t,x),x;var i=getComputedStyle(t),n=a(t)&&t.ownerSVGElement&&t.getBBox(),r=!p&&"border-box"===i.boxSizing,o=b.test(i.writingMode||""),s=!n&&v.test(i.overflowY||""),c=!n&&v.test(i.overflowX||""),l=n?0:w(i.paddingTop),f=n?0:w(i.paddingRight),g=n?0:w(i.paddingBottom),y=n?0:w(i.paddingLeft),z=n?0:w(i.borderTopWidth),E=n?0:w(i.borderRightWidth),O=n?0:w(i.borderBottomWidth),k=y+f,M=l+g,S=(n?0:w(i.borderLeftWidth))+E,R=z+O,B=c?t.offsetHeight-R-t.clientHeight:0,F=s?t.offsetWidth-S-t.clientWidth:0,T=r?k+S:0,D=r?M+R:0,C=n?n.width:w(i.width)-T-F,j=n?n.height:w(i.height)-D-B,A=C+k+F+S,I=j+M+B+R,P=Object.freeze({devicePixelContentBoxSize:m(Math.round(C*devicePixelRatio),Math.round(j*devicePixelRatio),o),borderBoxSize:m(A,I,o),contentBoxSize:m(C,j,o),contentRect:new u(y,l,C,j)});return d.set(t,P),P},y=function(t,e,i){var n=g(t,i),o=n.borderBoxSize,s=n.contentBoxSize,c=n.devicePixelContentBoxSize;switch(e){case r.DEVICE_PIXEL_CONTENT_BOX:return c;case r.BORDER_BOX:return o;default:return s}},z=function(t){var e=g(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=[e.borderBoxSize],this.contentBoxSize=[e.contentBoxSize],this.devicePixelContentBoxSize=[e.devicePixelContentBoxSize]},E=function(t){if(h(t))return 1/0;for(var e=0,i=t.parentNode;i;)e+=1,i=i.parentNode;return e},O=function(){var t=1/0,e=[];o.forEach((function(i){if(0!==i.activeTargets.length){var n=[];i.activeTargets.forEach((function(e){var i=new z(e.target),r=E(e.target);n.push(i),e.lastReportedSize=y(e.target,e.observedBox),r<t&&(t=r)})),e.push((function(){i.callback.call(i.observer,n,i.observer)})),i.activeTargets.splice(0,i.activeTargets.length)}}));for(var i=0,n=e;i<n.length;i++)(0,n[i])();return t},k=function(t){o.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(i){i.isActive()&&(E(i.target)>t?e.activeTargets.push(i):e.skippedTargets.push(i))}))}))},M=[],S=0,R={attributes:!0,characterData:!0,childList:!0,subtree:!0},B=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],F=function(t){return void 0===t&&(t=0),Date.now()+t},T=!1,D=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!T){T=!0;var i,n=F(t);i=function(){var i=!1;try{i=function(){var t,e=0;for(k(e);o.some((function(t){return t.activeTargets.length>0}));)e=O(),k(e);return o.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:s}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=s),window.dispatchEvent(t)),e>0}()}finally{if(T=!1,t=n-F(),!S)return;i?e.run(1e3):t>0?e.run(t):e.start()}},function(t){if(!c){var e=0,i=document.createTextNode("");new MutationObserver((function(){return M.splice(0).forEach((function(t){return t()}))})).observe(i,{characterData:!0}),c=function(){i.textContent=""+(e?e--:e++)}}M.push(t),c()}((function(){requestAnimationFrame(i)}))}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,R)};document.body?e():f.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),B.forEach((function(e){return f.addEventListener(e,t.listener,!0)})))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),B.forEach((function(e){return f.removeEventListener(e,t.listener,!0)})),this.stopped=!0)},t}()),C=function(t){!S&&t>0&&D.start(),!(S+=t)&&D.stop()},j=function(){function t(t,e){this.target=t,this.observedBox=e||r.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=y(this.target,this.observedBox,!0);return a(t=this.target)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),A=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},I=new WeakMap,P=function(t,e){for(var i=0;i<t.length;i+=1)if(t[i].target===e)return i;return-1},q=function(){function t(){}return t.connect=function(t,e){var i=new A(t,e);I.set(t,i)},t.observe=function(t,e,i){var n=I.get(t),r=0===n.observationTargets.length;P(n.observationTargets,e)<0&&(r&&o.push(n),n.observationTargets.push(new j(e,i&&i.box)),C(1),D.schedule())},t.unobserve=function(t,e){var i=I.get(t),n=P(i.observationTargets,e);n>=0&&(1===i.observationTargets.length&&o.splice(o.indexOf(i),1),i.observationTargets.splice(n,1),C(-1))},t.disconnect=function(t){var e=this,i=I.get(t);i.observationTargets.slice().forEach((function(i){return e.unobserve(t,i.target)})),i.activeTargets.splice(0,i.activeTargets.length)},t}(),L=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");q.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!l(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");q.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!l(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");q.unobserve(this,t)},t.prototype.disconnect=function(){q.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const U=class{constructor(e){t(this,e),this.vMouseDown=!1}onResize(){this.refreshScrollbar()}onOrientationchange(){this.refreshScrollbar()}onMouseUp(){this.vMouseDown=!1,this.scrollPane.style.userSelect="initial"}onMouseMove(t){this.vMouseDown&&(this.scrollPane.scrollTop=this.scrollPane.scrollTop+(this.vBarTop-this.vTrackTop+(t.clientY-this.prevClientY))/this.scrollRatio,this.prevClientY=t.clientY)}componentDidLoad(){this.refreshScrollbar(),this.scrollPane.addEventListener("scroll",()=>{this.vScrollBar.style.top=this.scrollPane.scrollTop*this.scrollRatio+"px"}),this.vScrollBar.addEventListener("mousedown",t=>{this.vMouseDown=!0,this.vMouseOffet=t.clientY,this.vCurrentScroll=this.scrollPane.scrollTop;const e=this.vScrollBar.getBoundingClientRect();this.vBarTop=e.top,this.vBarHeight=e.height,this.prevClientY=t.clientY;const i=this.vScrollBar.getBoundingClientRect();this.vTrackTop=i.top,this.scrollPane.style.userSelect="none"}),new L(()=>{this.refreshScrollbar()}).observe(this.scrollContent),new MutationObserver(t=>{console.log(t),this.refreshScrollbar()}).observe(this.scrollContent,{attributes:!0})}async refreshScrollbar(){if(this.scrollRatio=Math.ceil(this.rootElement.offsetHeight/this.scrollContent.offsetHeight*1e3)/1e3,this.scrollRatio<.999){this.rootElement.classList.remove("disabled");const t=this.rootElement.offsetHeight*this.scrollRatio;this.scrollDelta=this.rootElement.offsetHeight-t,this.vScrollBar.style.height=t+"px"}else this.rootElement.classList.add("disabled")}render(){return e(i,null,e("div",{ref:t=>this.vScrollTrack=t,draggable:!1,class:"v-scroll-track"}),e("div",{draggable:!1,class:"v-scroll-bar",ref:t=>this.vScrollBar=t}),e("div",{class:"zea-scroll-pane",ref:t=>this.scrollPane=t},e("div",{class:"scroll-content",ref:t=>this.scrollContent=t},e("slot",null))))}get rootElement(){return n(this)}};U.style=":host{max-height:100%;width:100%;display:block;position:relative;height:100%}:host(.disabled){height:auto}.zea-scroll-pane{pointer-events:auto;max-height:100%;overflow:auto;scrollbar-width:none;-ms-overflow-style:none;}.zea-scroll-pane::-webkit-scrollbar{width:0px;background:transparent;}.v-scroll-track{position:absolute;right:0;top:0;bottom:0;width:10px;background-color:var(--color-background-4);z-index:1000}.v-scroll-bar{position:absolute;right:0px;width:10px;top:0;background-color:var(--color-grey-3);z-index:10000;box-shadow:-2px 4px 7px -3px var(--color-background-1)}:host(.disabled) .v-scroll-track,:host(.disabled) .v-scroll-bar{display:none}";export{U as zea_scroll_pane}