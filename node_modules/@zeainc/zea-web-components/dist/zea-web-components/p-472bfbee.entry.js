import{r as t,c as i,h as e}from"./p-6fd09c7c.js";const s=class{constructor(e){t(this,e),this.zeaUserClicked=i(this,"zeaUserClicked",7),this.isCurrentUser=!1,this.isActive=!1,this.showImages=!0,this.density="normal",this.showTooltip=!0,this.showProfileCard=!0,this.profileCardShown=!1,this.profileCardAlign="left",this.randomColor="#000000".replace(/0/g,()=>(~~(5+7*Math.random())).toString(16))}handleClick(t){t.composedPath().includes(this.chipElement)?t.composedPath().includes(this.profileCardElement)||(this.profileCardShown=!this.profileCardShown):this.profileCardShown=!1}onChipClick(t){this.zeaUserClicked.emit(this.userData),t.stopPropagation()}onAvatarOver(){this.fixTooltipPosition()}componentDidRender(){this.fixTooltipPosition()}fixTooltipPosition(){if(!this.tooltipElement)return;const t=this.tooltipElement.getBoundingClientRect();t.x+t.width>window.innerWidth?this.tooltipElement.classList.add("bleeded-right"):this.tooltipElement.classList.remove("bleeded-right"),t.x<0?this.tooltipElement.classList.add("bleeded-left"):this.tooltipElement.classList.remove("bleeded-left")}render(){if(!this.userData)return e("span",{class:"empty-user-chip"});const t=this.userData.firstName||this.userData.given_name,i=this.userData.lastName||this.userData.family_name,s=this.userData.avatar||this.userData.picture;let a="",r=this.userData.color;{let e="",s="";t&&(e=t.charAt(0)),i?s=i.charAt(0):e&&(s=t.charAt(1)),a=String(e+s).toUpperCase()}r||(r=this.randomColor,this.userData.color=this.randomColor);const o={active:this.isActive,"zea-chip":!0};return o[this.density]=!0,e("div",{ref:t=>this.chipElement=t,class:o,onClick:this.onChipClick.bind(this)},e("div",{class:"zea-chip-avatar",onMouseOver:this.onAvatarOver.bind(this),style:{backgroundColor:r}},e("span",null,a),this.showImages&&!!s&&e("div",{class:"avatar-image",style:{backgroundImage:`url(${s})`}})),this.showTooltip&&!this.profileCardShown&&e("div",{ref:t=>this.tooltipElement=t,class:"tooltip"},`${t} ${i||""}`),this.showProfileCard&&e("zea-user-card",{collapsible:!0,isCurrentUser:this.isCurrentUser,ref:t=>this.profileCardElement=t,class:"align-"+this.profileCardAlign,style:{display:this.profileCardShown?"block":"none"},userData:this.userData}))}};s.style=":host{z-index:100000000}:host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-chip{color:var(--color-foreground-1);user-select:none}.zea-chip-avatar{border:2px solid var(--color-background-2);width:32px;height:32px;border-radius:18px;color:white;display:flex;align-items:center;justify-content:center;position:relative;font-size:13px}.active .zea-chip-avatar{box-shadow:0px 0px 1px 2px var(--color-primary-1)}.avatar-image{position:absolute;top:0;left:0;bottom:0;right:0;border-radius:18px;background-size:cover;background-position:center center}.empty-user-chip{display:none}.small .zea-chip-avatar{width:28px;height:28px;border-radius:36px;font-size:13px}.small .avatar-image{border-radius:36px}.large .zea-chip-avatar{width:60px;height:60px;border-radius:36px;font-size:18px}.large .avatar-image{border-radius:36px}zea-user-card{position:absolute;margin-top:3px}zea-user-card.align-right{margin-left:-256px}.tooltip{position:absolute;padding:4px 7px;border-radius:4px;font-size:12px;color:var(--color-foreground-1);background-color:var(--color-grey-3);z-index:100000000;white-space:nowrap;margin-left:18px;transform:translateX(-50%);display:none}.zea-chip:hover .tooltip{display:block}.tooltip.bleeded-right{right:0;transform:none}.tooltip.bleeded-left{left:0;margin-left:0;transform:none}@media only screen and (max-width: 667px){zea-user-card{position:fixed;width:100%;left:0}}@media only screen and (max-width: 667px), only screen and (max-height: 667px){.tooltip{display:none !important}}";export{s as zea_user_chip}