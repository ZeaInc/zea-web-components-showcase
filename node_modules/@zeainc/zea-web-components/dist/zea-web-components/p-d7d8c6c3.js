import{r as t,h as i}from"./p-6fd09c7c.js";import{u as e}from"./p-c2a9f8c6.js";const s=class{constructor(i){t(this,i),this.onInput=this.onInput.bind(this),this.onBlur=this.onBlur.bind(this),globalThis.zeaEngine||console.warn("`zeaEngine` missing from the `globalThis` object and this component requires it")}parameterChangeHandler(){this.setUpInputs()}componentDidLoad(){this.parameter&&(this.setUpInputs(),this.updateComponent())}setUpInputs(){this.parameter.on("valueChanged",()=>{this.updateComponent()})}updateComponent(){if(!this.parameterChange){const t=this.parameter.getValue();this.xField.value=""+this.round(t.x),this.yField.value=""+this.round(t.y),this.zField.value=""+this.round(t.z),this.tField.value=""+this.round(t.t)}}onInput(){if(!globalThis.zeaEngine)return void console.log("`zeaEngine` missing from `globalThis` object.");const{Vec4:t}=globalThis.zeaEngine,i=new t(this.xField.valueAsNumber,this.yField.valueAsNumber,this.zField.valueAsNumber,this.tField.valueAsNumber);this.handleUXChange(i)}onBlur(){this.parameterChange=void 0}handleUXChange(t){if(!globalThis.zeaUx)return void console.log("To add Undo/Redo functionalities just add `zeaUx` library to your `globalThis` object, because right now it is missing.");const{UndoRedoManager:i,ParameterValueChange:e}=globalThis.zeaUx,s=i.getInstance();this.parameterChange?this.parameterChange.update({value:t}):(this.parameterChange=new e(this.parameter,t),s.addChange(this.parameterChange))}round(t,i=6){return Number(Math.round(Number(t+"e"+i))+"e-"+i)}render(){return i("div",{class:"zea-param-widget-vec4"},i("div",{class:"vector-input-wrap"},i("label",null,"X"),i("input",{onInput:this.onInput,onBlur:this.onBlur,ref:t=>this.xField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0",value:this.xValue})),i("div",{class:"vector-input-wrap"},i("label",null,"Y"),i("input",{onInput:this.onInput,onBlur:this.onBlur,ref:t=>this.yField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0",value:this.yValue})),i("div",{class:"vector-input-wrap"},i("label",null,"Z"),i("input",{onInput:this.onInput,onBlur:this.onBlur,ref:t=>this.zField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0",value:this.zValue})),i("div",{class:"vector-input-wrap"},i("label",null,"T"),i("input",{onInput:this.onInput,onBlur:this.onBlur,ref:t=>this.tField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0",value:this.tValue})))}static get watchers(){return{parameter:["parameterChangeHandler"]}}};e.registerWidget("zea-param-widget-vec4",t=>"Vec4"===t.getDataType()),s.style=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-param-widget-vec4{color:var(--color-foreground-1);background-color:var(--color-background-2);max-width:400px}.zea-param-widget-vec4 input{width:100%;box-sizing:border-box;margin-bottom:0.5em;color:var(--color-foreground-1);background-color:var(--color-background-3)}.zea-param-widget-vec4 input:last-child{margin-bottom:0}.user-edited{box-shadow:0 0 8px var(--color-success-1);margin:0px}.vector-input-wrap{display:flex;align-items:center;margin-bottom:0.5em}.vector-input-wrap label{font-size:0.7em;padding:0.3em 1em 0.3em 0.3em;opacity:0.5}input[type='number']{padding:0.3em;font-size:0.9em;border:1px solid var(--color-grey-3);text-align:right}";export{s as Z}