/*!
 * iro.js v5.2.3
 * 2016-2020 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */
var t,n,i,r,e,u={},o=[],l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function s(t,n){for(var i in n)t[i]=n[i];return t}function c(t){var n=t.parentNode;n&&n.removeChild(t)}function a(t,n,i){var r,e,u,o,l=arguments;if(n=s({},n),arguments.length>3)for(i=[i],r=3;r<arguments.length;r++)i.push(l[r]);if(null!=i&&(n.children=i),null!=t&&null!=t.defaultProps)for(e in t.defaultProps)void 0===n[e]&&(n[e]=t.defaultProps[e]);return o=n.key,null!=(u=n.ref)&&delete n.ref,null!=o&&delete n.key,f(t,n,o,u)}function f(n,i,r,e){var u={type:n,props:i,key:r,ref:e,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return t.vnode&&t.vnode(u),u}function h(t){return t.children}function v(t,n){this.props=t,this.context=n}function d(t,n){if(null==n)return t.__p?d(t.__p,t.__p.__k.indexOf(t)+1):null;for(var i;n<t.__k.length;n++)if(null!=(i=t.__k[n])&&null!=i.__e)return i.__e;return"function"==typeof t.type?d(t):null}function g(t){var n,i;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(i=t.__k[n])&&null!=i.__e){t.__e=t.__c.base=i.__e;break}return g(t)}}function b(e){(!e.__d&&(e.__d=!0)&&1===n.push(e)||r!==t.debounceRendering)&&(r=t.debounceRendering,(t.debounceRendering||i)(p))}function p(){var t,i,r,e,u,o,l,c;for(n.sort((function(t,n){return n.__v.__b-t.__v.__b}));t=n.pop();)t.__d&&(r=void 0,e=void 0,o=(u=(i=t).__v).__e,l=i.__P,c=i.u,i.u=!1,l&&(r=[],e=M(l,u,s({},u),i.__n,void 0!==l.ownerSVGElement,null,r,c,null==o?d(u):o),j(r,u),e!=o&&g(u)))}function y(t,n,i,r,e,l,s,a,f){var h,v,g,b,p,y,x,m=i&&i.__k||o,k=m.length;if(a==u&&(a=null!=l?l[0]:k?d(i,0):null),h=0,n.__k=w(n.__k,(function(i){if(null!=i){if(i.__p=n,i.__b=n.__b+1,null===(g=m[h])||g&&i.key==g.key&&i.type===g.type)m[h]=void 0;else for(v=0;v<k;v++){if((g=m[v])&&i.key==g.key&&i.type===g.type){m[v]=void 0;break}g=null}if(b=M(t,i,g=g||u,r,e,l,s,null,a,f),(v=i.ref)&&g.ref!=v&&(x||(x=[])).push(v,i.__c||b,i),null!=b){if(null==y&&(y=b),null!=i.l)b=i.l,i.l=null;else if(l==g||b!=a||null==b.parentNode){t:if(null==a||a.parentNode!==t)t.appendChild(b);else{for(p=a,v=0;(p=p.nextSibling)&&v<k;v+=2)if(p==b)break t;t.insertBefore(b,a)}"option"==n.type&&(t.value="")}a=b.nextSibling,"function"==typeof n.type&&(n.l=b)}}return h++,i})),n.__e=y,null!=l&&"function"!=typeof n.type)for(h=l.length;h--;)null!=l[h]&&c(l[h]);for(h=k;h--;)null!=m[h]&&I(m[h],m[h]);if(x)for(h=0;h<x.length;h++)A(x[h],x[++h],x[++h])}function w(t,n,i){if(null==i&&(i=[]),null==t||"boolean"==typeof t)n&&i.push(n(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)w(t[r],n,i);else i.push(n?n(function(t){if(null==t||"boolean"==typeof t)return null;if("string"==typeof t||"number"==typeof t)return f(null,t,null,null);if(null!=t.__e||null!=t.__c){var n=f(t.type,t.props,t.key,null);return n.__e=t.__e,n}return t}(t)):t);return i}function x(t,n,i){"-"===n[0]?t.setProperty(n,i):t[n]="number"==typeof i&&!1===l.test(n)?i+"px":null==i?"":i}function m(t,n,i,r,e){var u,o,l,s,c;if("key"===(n=e?"className"===n?"class":n:"class"===n?"className":n)||"children"===n);else if("style"===n)if(u=t.style,"string"==typeof i)u.cssText=i;else{if("string"==typeof r&&(u.cssText="",r=null),r)for(o in r)i&&o in i||x(u,o,"");if(i)for(l in i)r&&i[l]===r[l]||x(u,l,i[l])}else"o"===n[0]&&"n"===n[1]?(s=n!==(n=n.replace(/Capture$/,"")),c=n.toLowerCase(),n=(c in t?c:n).slice(2),i?(r||t.addEventListener(n,k,s),(t.t||(t.t={}))[n]=i):t.removeEventListener(n,k,s)):"list"!==n&&"tagName"!==n&&"form"!==n&&!e&&n in t?t[n]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==n&&(n!==(n=n.replace(/^xlink:?/,""))?null==i||!1===i?t.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),i):null==i||!1===i?t.removeAttribute(n):t.setAttribute(n,i))}function k(n){return this.t[n.type](t.event?t.event(n):n)}function M(n,i,r,e,u,o,l,c,a,f){var d,g,b,p,x,m,k,M,j,A,I=i.type;if(void 0!==i.constructor)return null;(d=t.__b)&&d(i);try{t:if("function"==typeof I){if(M=i.props,j=(d=I.contextType)&&e[d.__c],A=d?j?j.props.value:d.__p:e,r.__c?k=(g=i.__c=r.__c).__p=g.__E:("prototype"in I&&I.prototype.render?i.__c=g=new I(M,A):(i.__c=g=new v(M,A),g.constructor=I,g.render=F),j&&j.sub(g),g.props=M,g.state||(g.state={}),g.context=A,g.__n=e,b=g.__d=!0,g.__h=[]),null==g.__s&&(g.__s=g.state),null!=I.getDerivedStateFromProps&&s(g.__s==g.state?g.__s=s({},g.__s):g.__s,I.getDerivedStateFromProps(M,g.__s)),b)null==I.getDerivedStateFromProps&&null!=g.componentWillMount&&g.componentWillMount(),null!=g.componentDidMount&&l.push(g);else{if(null==I.getDerivedStateFromProps&&null==c&&null!=g.componentWillReceiveProps&&g.componentWillReceiveProps(M,A),!c&&null!=g.shouldComponentUpdate&&!1===g.shouldComponentUpdate(M,g.__s,A)){for(g.props=M,g.state=g.__s,g.__d=!1,g.__v=i,i.__e=null!=a?a!==r.__e?a:r.__e:null,i.__k=r.__k,d=0;d<i.__k.length;d++)i.__k[d]&&(i.__k[d].__p=i);break t}null!=g.componentWillUpdate&&g.componentWillUpdate(M,g.__s,A)}for(p=g.props,x=g.state,g.context=A,g.props=M,g.state=g.__s,(d=t.__r)&&d(i),g.__d=!1,g.__v=i,g.__P=n,d=g.render(g.props,g.state,g.context),i.__k=w(null!=d&&d.type==h&&null==d.key?d.props.children:d),null!=g.getChildContext&&(e=s(s({},e),g.getChildContext())),b||null==g.getSnapshotBeforeUpdate||(m=g.getSnapshotBeforeUpdate(p,x)),y(n,i,r,e,u,o,l,a,f),g.base=i.__e;d=g.__h.pop();)g.__s&&(g.state=g.__s),d.call(g);b||null==p||null==g.componentDidUpdate||g.componentDidUpdate(p,x,m),k&&(g.__E=g.__p=null)}else i.__e=O(r.__e,i,r,e,u,o,l,f);(d=t.diffed)&&d(i)}catch(n){t.__e(n,i,r)}return i.__e}function j(n,i){for(var r;r=n.pop();)try{r.componentDidMount()}catch(n){t.__e(n,r.__v)}t.__c&&t.__c(i)}function O(t,n,i,r,e,l,s,c){var a,f,h,v,d=i.props,g=n.props;if(e="svg"===n.type||e,null==t&&null!=l)for(a=0;a<l.length;a++)if(null!=(f=l[a])&&(null===n.type?3===f.nodeType:f.localName===n.type)){t=f,l[a]=null;break}if(null==t){if(null===n.type)return document.createTextNode(g);t=e?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),l=null}return null===n.type?d!==g&&(null!=l&&(l[l.indexOf(t)]=null),t.data=g):n!==i&&(null!=l&&(l=o.slice.call(t.childNodes)),h=(d=i.props||u).dangerouslySetInnerHTML,v=g.dangerouslySetInnerHTML,c||(v||h)&&(v&&h&&v.__html==h.__html||(t.innerHTML=v&&v.__html||"")),function(t,n,i,r,e){var u;for(u in i)u in n||m(t,u,null,i[u],r);for(u in n)e&&"function"!=typeof n[u]||"value"===u||"checked"===u||i[u]===n[u]||m(t,u,n[u],i[u],r)}(t,g,d,e,c),n.__k=n.props.children,v||y(t,n,i,r,"foreignObject"!==n.type&&e,l,s,u,c),c||("value"in g&&void 0!==g.value&&g.value!==t.value&&(t.value=null==g.value?"":g.value),"checked"in g&&void 0!==g.checked&&g.checked!==t.checked&&(t.checked=g.checked))),t}function A(n,i,r){try{"function"==typeof n?n(i):n.current=i}catch(n){t.__e(n,r)}}function I(n,i,r){var e,u,o;if(t.unmount&&t.unmount(n),(e=n.ref)&&A(e,null,i),r||"function"==typeof n.type||(r=null!=(u=n.__e)),n.__e=n.l=null,null!=(e=n.__c)){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(n){t.__e(n,i)}e.base=e.__P=null}if(e=n.__k)for(o=0;o<e.length;o++)e[o]&&I(e[o],i,r);null!=u&&c(u)}function F(t,n,i){return this.constructor(t,i)}t={},v.prototype.setState=function(t,n){var i=this.__s!==this.state&&this.__s||(this.__s=s({},this.state));("function"!=typeof t||(t=t(i,this.props)))&&s(i,t),null!=t&&this.__v&&(this.u=!1,n&&this.__h.push(n),b(this))},v.prototype.forceUpdate=function(t){this.__v&&(t&&this.__h.push(t),this.u=!0,b(this))},v.prototype.render=h,n=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r=t.debounceRendering,t.__e=function(t,n){for(var i;n=n.__p;)if((i=n.__c)&&!i.__p)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError)i.setState(i.constructor.getDerivedStateFromError(t));else{if(null==i.componentDidCatch)continue;i.componentDidCatch(t)}return b(i.__E=i)}catch(n){t=n}throw t},e=u;var S="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",E="[\\s|\\(]+("+S+")[,|\\s]+("+S+")[,|\\s]+("+S+")\\s*\\)?",N="[\\s|\\(]+("+S+")[,|\\s]+("+S+")[,|\\s]+("+S+")[,|\\s]+("+S+")\\s*\\)?",R=new RegExp("rgb"+E),_=new RegExp("rgba"+N),P=new RegExp("hsl"+E),z=new RegExp("hsla"+N),$=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),H=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),T=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),W=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),C=Math.log,D=Math.round,G=Math.floor;function L(t,n,i){return Math.min(Math.max(t,n),i)}function B(t,n){var i=t.indexOf("%")>-1,r=parseFloat(t);return i?n/100*r:r}function U(t){return parseInt(t,16)}function q(t){return t.toString(16).padStart(2,"0")}var J,K=function(t,n){this.$={h:0,s:0,v:0,a:1},t&&this.set(t),this.onChange=n,this.initialValue=Object.assign({},this.$)},Q={hsv:{configurable:!0},hsva:{configurable:!0},hue:{configurable:!0},saturation:{configurable:!0},value:{configurable:!0},alpha:{configurable:!0},kelvin:{configurable:!0},red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0},rgb:{configurable:!0},rgba:{configurable:!0},hsl:{configurable:!0},hsla:{configurable:!0},rgbString:{configurable:!0},rgbaString:{configurable:!0},hexString:{configurable:!0},hex8String:{configurable:!0},hslString:{configurable:!0},hslaString:{configurable:!0}};function V(t){var n=t.width,i=t.sliderSize,r=t.borderWidth,e=t.handleRadius,u=t.padding,o="horizontal"===t.layoutDirection;return i=i||2*u+2*e+2*r,"circle"===t.sliderShape?{handleStart:t.padding+t.handleRadius,handleRange:n-2*u-2*e-2*r,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-r/2}:{handleStart:i/2,handleRange:n-i,radius:i/2,x:0,y:0,width:o?i:n,height:o?n:i}}function X(t){var n=t.width/2;return{width:t.width,radius:n-t.borderWidth,cx:n,cy:n}}function Y(t,n,i){var r=t.wheelAngle,e=t.wheelDirection;return((n=!i&&"clockwise"===e||i&&"anticlockwise"===e?(i?180:360)-(r-n):r+n)%360+360)%360}function Z(t,n,i){var r=X(t),e=t.width/2-t.padding-t.handleRadius-t.borderWidth;n=r.cx-n,i=r.cy-i;var u=Y(t,Math.atan2(-i,-n)*(180/Math.PI)),o=Math.min(Math.sqrt(n*n+i*i),e);return{h:Math.round(u),s:Math.round(100/e*o)}}function tt(t){var n=t.width;return{width:n,height:n,radius:t.padding+t.handleRadius}}function nt(t,n,i){var r=tt(t),e=r.radius,u=(i-e)/(r.height-2*e)*100;return{s:Math.max(0,Math.min((n-e)/(r.width-2*e)*100,100)),v:Math.max(0,Math.min(100-u,100))}}function it(t){J||(J=document.getElementsByTagName("base"));var n=window.navigator.userAgent,i=/^((?!chrome|android).)*safari/i.test(n),r=/iPhone|iPod|iPad/i.test(n),e=window.location;return(i||r)&&J.length>0?e.protocol+"//"+e.host+e.pathname+e.search+t:t}function rt(t,n,i,r,e){var u=e-r<=180?0:1;return r*=Math.PI/180,e*=Math.PI/180,"M "+(t+i*Math.cos(e))+" "+(n+i*Math.sin(e))+" A "+i+" "+i+" 0 "+u+" 0 "+(t+i*Math.cos(r))+" "+(n+i*Math.sin(r))}function et(t,n,i,r){for(var e=0;e<r.length;e++){var u=r[e].x-n,o=r[e].y-i;if(Math.sqrt(u*u+o*o)<t.handleRadius)return e}return null}K.prototype.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof K?this.hsv=t.hsv:"object"==typeof t&&"r"in t&&"g"in t&&"b"in t?this.rgb=t:"object"==typeof t&&"h"in t&&"s"in t&&"v"in t?this.hsv=t:"object"==typeof t&&"h"in t&&"s"in t&&"l"in t&&(this.hsl=t)}},K.prototype.setChannel=function(t,n,i){var r;this[t]=Object.assign({},this[t],((r={})[n]=i,r))},K.prototype.reset=function(){this.hsva=this.initialValue},K.prototype.clone=function(){return new K(this)},K.prototype.unbind=function(){this.onChange=void 0},K.hsvToRgb=function(t){var n=t.h/60,i=t.s/100,r=t.v/100,e=G(n),u=n-e,o=r*(1-i),l=r*(1-u*i),s=r*(1-(1-u)*i),c=e%6,a=[s,r,r,l,o,o][c],f=[o,o,s,r,r,l][c];return{r:L(255*[r,l,o,o,s,r][c],0,255),g:L(255*a,0,255),b:L(255*f,0,255)}},K.rgbToHsv=function(t){var n=t.r/255,i=t.g/255,r=t.b/255,e=Math.max(n,i,r),u=Math.min(n,i,r),o=e-u,l=0,s=e,c=0===e?0:o/e;switch(e){case u:l=0;break;case n:l=(i-r)/o+(i<r?6:0);break;case i:l=(r-n)/o+2;break;case r:l=(n-i)/o+4}return{h:60*l%360,s:L(100*c,0,100),v:L(100*s,0,100)}},K.hsvToHsl=function(t){var n=t.s/100,i=t.v/100,r=(2-n)*i,e=r<=1?r:2-r;return{h:t.h,s:L(100*(e<1e-9?0:n*i/e),0,100),l:L(50*r,0,100)}},K.hslToHsv=function(t){var n=2*t.l,i=t.s*(n<=100?n:200-n)/100;return{h:t.h,s:L(100*(n+i<1e-9?0:2*i/(n+i)),0,100),v:L((n+i)/2,0,100)}},K.kelvinToRgb=function(t){var n,i,r,e=t/100;return e<66?(n=255,i=-155.25485562709179-.44596950469579133*(i=e-2)+104.49216199393888*C(i),r=e<20?0:.8274096064007395*(r=e-10)-254.76935184120902+115.67994401066147*C(r)):(n=351.97690566805693+.114206453784165*(n=e-55)-40.25366309332127*C(n),i=325.4494125711974+.07943456536662342*(i=e-50)-28.0852963507957*C(i),r=255),{r:L(G(n),0,255),g:L(G(i),0,255),b:L(G(r),0,255)}},K.rgbToKelvin=function(t){for(var n,i=t.r,r=t.b,e=1e3,u=4e4;u-e>.4;){var o=K.kelvinToRgb(n=.5*(u+e));o.b/o.r>=r/i?u=n:e=n}return n},Q.hsv.get=function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},Q.hsv.set=function(t){var n=this.$;if(t=Object.assign({},n,t),this.onChange){var i={h:!1,v:!1,s:!1,a:!1};for(var r in n)i[r]=t[r]!=n[r];this.$=t,(i.h||i.s||i.v||i.a)&&this.onChange(this,i)}else this.$=t},Q.hsva.get=function(){return Object.assign({},this.$)},Q.hsva.set=function(t){this.hsv=t},Q.hue.get=function(){return this.$.h},Q.hue.set=function(t){this.hsv={h:t}},Q.saturation.get=function(){return this.$.s},Q.saturation.set=function(t){this.hsv={s:t}},Q.value.get=function(){return this.$.v},Q.value.set=function(t){this.hsv={v:t}},Q.alpha.get=function(){return this.$.a},Q.alpha.set=function(t){this.hsv=Object.assign({},this.hsv,{a:t})},Q.kelvin.get=function(){return K.rgbToKelvin(this.rgb)},Q.kelvin.set=function(t){this.rgb=K.kelvinToRgb(t)},Q.red.get=function(){return this.rgb.r},Q.red.set=function(t){this.rgb=Object.assign({},this.rgb,{r:t})},Q.green.get=function(){return this.rgb.g},Q.green.set=function(t){this.rgb=Object.assign({},this.rgb,{g:t})},Q.blue.get=function(){return this.rgb.b},Q.blue.set=function(t){this.rgb=Object.assign({},this.rgb,{b:t})},Q.rgb.get=function(){var t=K.hsvToRgb(this.$),n=t.g,i=t.b;return{r:D(t.r),g:D(n),b:D(i)}},Q.rgb.set=function(t){this.hsv=Object.assign({},K.rgbToHsv(t),{a:void 0===t.a?1:t.a})},Q.rgba.get=function(){return Object.assign({},this.rgb,{a:this.alpha})},Q.rgba.set=function(t){this.rgb=t},Q.hsl.get=function(){var t=K.hsvToHsl(this.$),n=t.s,i=t.l;return{h:D(t.h),s:D(n),l:D(i)}},Q.hsl.set=function(t){this.hsv=Object.assign({},K.hslToHsv(t),{a:void 0===t.a?1:t.a})},Q.hsla.get=function(){return Object.assign({},this.hsl,{a:this.alpha})},Q.hsla.set=function(t){this.hsl=t},Q.rgbString.get=function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},Q.rgbString.set=function(t){var n,i,r,e,u=1;if((n=R.exec(t))?(i=B(n[1],255),r=B(n[2],255),e=B(n[3],255)):(n=_.exec(t))&&(i=B(n[1],255),r=B(n[2],255),e=B(n[3],255),u=B(n[4],1)),!n)throw new Error("Invalid rgb string");this.rgb={r:i,g:r,b:e,a:u}},Q.rgbaString.get=function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},Q.rgbaString.set=function(t){this.rgbString=t},Q.hexString.get=function(){var t=this.rgb;return"#"+q(t.r)+q(t.g)+q(t.b)},Q.hexString.set=function(t){var n,i,r,e,u=255;if((n=$.exec(t))?(i=17*U(n[1]),r=17*U(n[2]),e=17*U(n[3])):(n=H.exec(t))?(i=17*U(n[1]),r=17*U(n[2]),e=17*U(n[3]),u=17*U(n[4])):(n=T.exec(t))?(i=U(n[1]),r=U(n[2]),e=U(n[3])):(n=W.exec(t))&&(i=U(n[1]),r=U(n[2]),e=U(n[3]),u=U(n[4])),!n)throw new Error("Invalid hex string");this.rgb={r:i,g:r,b:e,a:u/255}},Q.hex8String.get=function(){var t=this.rgba;return"#"+q(t.r)+q(t.g)+q(t.b)+q(G(255*t.a))},Q.hex8String.set=function(t){this.hexString=t},Q.hslString.get=function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Q.hslString.set=function(t){var n,i,r,e,u=1;if((n=P.exec(t))?(i=B(n[1],360),r=B(n[2],100),e=B(n[3],100)):(n=z.exec(t))&&(i=B(n[1],360),r=B(n[2],100),e=B(n[3],100),u=B(n[4],1)),!n)throw new Error("Invalid hsl string");this.hsl={h:i,s:r,l:e,a:u}},Q.hslaString.get=function(){var t=this.hsla;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},Q.hslaString.set=function(t){this.hslString=t},Object.defineProperties(K.prototype,Q);var ut=["mousemove","touchmove","mouseup","touchend"],ot=function(t){function n(n){t.call(this,n),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.render=function(t){var n=this.handleEvent.bind(this),i={onMouseDown:n,ontouchstart:n},r="horizontal"===t.layoutDirection,e={overflow:"visible",display:r?"inline-block":"block"};return t.index>0&&(e[r?"marginLeft":"marginTop"]=null===t.margin?t.sliderMargin:t.margin),a(h,null,t.children(this.uid,i,e))},n.prototype.handleEvent=function(t){var n=this,i=this.props.onInput,r=this.base.getBoundingClientRect();t.preventDefault();var e=t.touches?t.changedTouches[0]:t,u=e.clientX-r.left,o=e.clientY-r.top;switch(t.type){case"mousedown":case"touchstart":ut.forEach((function(t){document.addEventListener(t,n,{passive:!1})})),i(u,o,0);break;case"mousemove":case"touchmove":i(u,o,1);break;case"mouseup":case"touchend":i(u,o,2),ut.forEach((function(t){document.removeEventListener(t,n)}))}},n}(v);function lt(t){var n=t.r,i=t.url;return a("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),x:t.x,y:t.y,style:{overflow:"visible"}},i&&a("use",Object.assign({xlinkHref:it(i)},t.props)),!i&&a("circle",{r:n,fill:"none","stroke-width":2,stroke:"#000"}),!i&&a("circle",{r:n-2,fill:t.fill,"stroke-width":2,stroke:"#fff"}))}function st(t){var n=t.activeIndex,i=void 0!==n&&n<t.colors.length?t.colors[n]:t.color,r=V(t),e=r.width,u=r.height,o=r.radius,l=function(t,n){var i=V(t),r=i.handleRange,e=i.handleStart,u="horizontal"===t.layoutDirection,o=u?i.width/2:i.height/2,l=e+function(t,n){var i=n.hsva,r=n.rgb;switch(t.sliderType){case"red":return r.r/2.55;case"green":return r.g/2.55;case"blue":return r.b/2.55;case"alpha":return 100*i.a;case"kelvin":var e=t.minTemperature;return Math.max(0,Math.min((n.kelvin-e)/(t.maxTemperature-e)*100,100));case"hue":return i.h/=3.6;case"saturation":return i.s;case"value":default:return i.v}}(t,n)/100*r;return u&&(l=-1*l+r+2*e),{x:u?o:l,y:u?l:o}}(t,i),s=function(t,n){var i=n.hsv,r=n.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+r.g+","+r.b+")"],[100,"rgb(255,"+r.g+","+r.b+")"]];case"green":return[[0,"rgb("+r.r+",0,"+r.b+")"],[100,"rgb("+r.r+",255,"+r.b+")"]];case"blue":return[[0,"rgb("+r.r+","+r.g+",0)"],[100,"rgb("+r.r+","+r.g+",255)"]];case"alpha":return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var e=[],u=t.minTemperature,o=t.maxTemperature,l=o-u,s=u,c=0;s<o;s+=l/8,c+=1){var a=K.kelvinToRgb(s);e.push([12.5*c,"rgb("+a.r+","+a.g+","+a.b+")"])}return e;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var f=K.hsvToHsl({h:i.h,s:0,v:i.v}),h=K.hsvToHsl({h:i.h,s:100,v:i.v});return[[0,"hsl("+f.h+","+f.s+"%,"+f.l+"%)"],[100,"hsl("+h.h+","+h.s+"%,"+h.l+"%)"]];case"value":default:var v=K.hsvToHsl({h:i.h,s:i.s,v:100});return[[0,"#000"],[100,"hsl("+v.h+","+v.s+"%,"+v.l+"%)"]]}}(t,i),c="alpha"===t.sliderType;return a(ot,Object.assign({},t,{onInput:function(n,r,e){var u=function(t,n,i){var r,e=V(t),u=e.handleRange,o=e.handleStart;r="horizontal"===t.layoutDirection?-1*i+u+o:n-o,r=Math.max(Math.min(r,u),0);var l=Math.round(100/u*r);switch(t.sliderType){case"kelvin":var s=t.minTemperature;return s+l/100*(t.maxTemperature-s);case"alpha":return l/100;case"hue":return 3.6*l;case"red":case"blue":case"green":return 2.55*l;default:return l}}(t,n,r);t.parent.inputActive=!0,i[t.sliderType]=u,t.onInput(e)}}),(function(n,r,f){return a("svg",Object.assign({},r,{className:"IroSlider",width:e,height:u,style:f}),a("defs",null,a("linearGradient",Object.assign({id:"g"+n},function(t){var n="horizontal"===t.layoutDirection;return{x1:"0%",y1:n?"100%":"0%",x2:n?"0%":"100%",y2:"0%"}}(t)),s.map((function(t){return a("stop",{offset:t[0]+"%","stop-color":t[1]})}))),c&&a("pattern",{id:"b"+n,width:"8",height:"8",patternUnits:"userSpaceOnUse"},a("rect",{x:"0",y:"0",width:"8",height:"8",fill:"#fff"}),a("rect",{x:"0",y:"0",width:"4",height:"4",fill:"#ccc"}),a("rect",{x:"4",y:"4",width:"4",height:"4",fill:"#ccc"})),c&&a("pattern",{id:"f"+n,width:"100%",height:"100%"},a("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+it("#b"+n)+")"}),a("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+it("#g"+n)+")"}))),a("rect",{className:"IroSliderBg",rx:o,ry:o,x:t.borderWidth/2,y:t.borderWidth/2,width:e-t.borderWidth,height:u-t.borderWidth,"stroke-width":t.borderWidth,stroke:t.borderColor,fill:"url("+it((c?"#f":"#g")+n)+")"}),a(lt,{isActive:!0,index:i.index,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:l.x,y:l.y}))}))}function ct(t){var n=tt(t),i=n.width,r=n.height,e=n.radius,u=t.colors,o=t.parent,l=t.activeIndex,s=void 0!==l&&l<t.colors.length?t.colors[l]:t.color,c=[[[0,"#fff"],[100,"hsl("+s.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]],f=u.map((function(n){return function(t,n){var i=tt(t),r=i.radius,e=n.hsv,u=i.height-2*r;return{x:r+e.s/100*(i.width-2*r),y:r+(u-e.v/100*u)}}(t,n)}));return a(ot,Object.assign({},t,{onInput:function(n,i,r){if(0===r){var e=et(t,n,i,f);null!==e?o.setActiveColor(e):(o.inputActive=!0,s.hsv=nt(t,n,i),t.onInput(r))}else 1===r&&(o.inputActive=!0,s.hsv=nt(t,n,i));t.onInput(r)}}),(function(n,o,l){return a("svg",Object.assign({},o,{className:"IroBox",width:i,height:r,style:l}),a("defs",null,a("linearGradient",{id:"s"+n,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},c[0].map((function(t){return a("stop",{offset:t[0]+"%","stop-color":t[1]})}))),a("linearGradient",{id:"l"+n,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},c[1].map((function(t){return a("stop",{offset:t[0]+"%","stop-color":t[1]})}))),a("pattern",{id:"f"+n,width:"100%",height:"100%"},a("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+it("#s"+n)+")"}),a("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url("+it("#l"+n)+")"}))),a("rect",{rx:e,ry:e,x:t.borderWidth/2,y:t.borderWidth/2,width:i-t.borderWidth,height:r-t.borderWidth,"stroke-width":t.borderWidth,stroke:t.borderColor,fill:"url("+it("#f"+n)+")"}),u.filter((function(t){return t!==s})).map((function(n){return a(lt,{isActive:!1,index:n.index,fill:n.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:f[n.index].x,y:f[n.index].y})})),a(lt,{isActive:!0,index:s.index,fill:s.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:f[s.index].x,y:f[s.index].y}))}))}lt.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},st.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});var at=Array.apply(null,{length:360}).map((function(t,n){return n}));function ft(t){var n=X(t),i=n.width,r=n.radius,e=n.cx,u=n.cy,o=t.colors,l=t.borderWidth,s=t.parent,c=t.color,f=c.hsv,h=o.map((function(n){return function(t,n){var i=n.hsv,r=X(t),e=r.cx,u=r.cy,o=t.width/2-t.padding-t.handleRadius-t.borderWidth,l=(180+Y(t,i.h,!0))*(Math.PI/180),s=i.s/100*o,c="clockwise"===t.wheelDirection?-1:1;return{x:e+s*Math.cos(l)*c,y:u+s*Math.sin(l)*c}}(t,n)}));return a(ot,Object.assign({},t,{onInput:function(n,i,r){if(0===r){var e=et(t,n,i,h);null!==e?s.setActiveColor(e):(s.inputActive=!0,c.hsv=Z(t,n,i),t.onInput(r))}else 1===r&&(s.inputActive=!0,c.hsv=Z(t,n,i));t.onInput(r)}}),(function(n,s,v){return a("svg",Object.assign({},s,{className:"IroWheel",width:i,height:i,style:v}),a("defs",null,a("radialGradient",{id:n},a("stop",{offset:"0%","stop-color":"#fff"}),a("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"}))),a("g",{className:"IroWheelHue","stroke-width":r,fill:"none"},at.map((function(n){return a("path",{key:n,d:rt(e,u,r/2,n,n+1.5),stroke:"hsl("+Y(t,n)+", 100%, 50%)"})}))),a("circle",{className:"IroWheelSaturation",cx:e,cy:u,r,fill:"url("+it("#"+n)+")"}),t.wheelLightness&&a("circle",{className:"IroWheelLightness",cx:e,cy:u,r,fill:"#000",opacity:1-f.v/100}),a("circle",{className:"IroWheelBorder",cx:e,cy:u,r,fill:"none",stroke:t.borderColor,"stroke-width":l}),o.filter((function(t){return t!==c})).map((function(n){return a(lt,{isActive:!1,index:n.index,fill:n.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:h[n.index].x,y:h[n.index].y})})),a(lt,{isActive:!0,index:c.index,fill:c.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:h[c.index].x,y:h[c.index].y}))}))}var ht=function(t){function n(n){var i=this;t.call(this,n),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=n.id,(n.colors.length>0?n.colors:[n.color]).forEach((function(t){return i.addColor(t)})),this.setActiveColor(0),this.state=Object.assign({},n,{color:this.color,colors:this.colors,layout:n.layout})}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.addColor=function(t,n){void 0===n&&(n=this.colors.length);var i=new K(t,this.onColorChange.bind(this));this.colors.splice(n,0,i),this.colors.forEach((function(t,n){return t.index=n})),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",i)},n.prototype.removeColor=function(t){var n=this.colors.splice(t,1)[0];n.unbind(),this.colors.forEach((function(t,n){return t.index=n})),this.state&&this.setState({colors:this.colors}),n.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",n)},n.prototype.setActiveColor=function(t){this.color=this.colors[t],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},n.prototype.setColors=function(t){var n=this;this.colors.forEach((function(t){return t.unbind()})),this.colors=[],t.forEach((function(t){return n.addColor(t)})),this.setActiveColor(0),this.emit("color:setAll",this.colors)},n.prototype.on=function(t,n){var i=this,r=this.events;(Array.isArray(t)?t:[t]).forEach((function(t){(r[t]||(r[t]=[])).push(n),i.deferredEvents[t]&&(i.deferredEvents[t].forEach((function(t){n.apply(null,t)})),i.deferredEvents[t]=[])}))},n.prototype.off=function(t,n){var i=this;(Array.isArray(t)?t:[t]).forEach((function(t){var r=i.events[t];r&&r.splice(r.indexOf(n),1)}))},n.prototype.emit=function(t){for(var n=this,i=[],r=arguments.length-1;r-- >0;)i[r]=arguments[r+1];var e=this.activeEvents,u=!!e.hasOwnProperty(t)&&e[t];if(!u){e[t]=!0;var o=this.events[t]||[];o.forEach((function(t){return t.apply(n,i)})),e[t]=!1}},n.prototype.deferredEmit=function(t){for(var n,i=[],r=arguments.length-1;r-- >0;)i[r]=arguments[r+1];var e=this.deferredEvents;(n=this).emit.apply(n,[t].concat(i)),(e[t]||(e[t]=[])).push(i)},n.prototype.setOptions=function(t){this.setState(Object.assign({},this.state,t))},n.prototype.resize=function(t){this.setOptions({width:t})},n.prototype.reset=function(){this.colors.forEach((function(t){return t.reset()})),this.setState({colors:this.colors})},n.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},n.prototype.onColorChange=function(t,n){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",t,n)),this.emit("color:change",t,n)},n.prototype.emitInputEvent=function(t){0===t?this.emit("input:start",this.color):1===t?this.emit("input:move",this.color):2===t&&this.emit("input:end",this.color)},n.prototype.render=function(t,n){var i=this,r=n.layout;return Array.isArray(r)||(r=[{component:ft},{component:st}],n.transparency&&r.push({component:st,options:{sliderType:"alpha"}})),a("div",{class:"IroColorPicker",id:n.id,style:{display:n.display}},r.map((function(t,r){return a(t.component,Object.assign({},n,t.options,{ref:void 0,onInput:i.emitInputEvent.bind(i),parent:i,index:r}))})))},n}(v);ht.defaultProps=Object.assign({},{width:300,height:300,handleRadius:8,handleSvg:null,handleProps:{x:0,y:0},color:"#fff",colors:[],borderColor:"#fff",borderWidth:0,wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",layoutDirection:"vertical",sliderSize:null,sliderMargin:12,padding:6},{colors:[],display:"block",id:null,layout:"default",margin:null});var vt,dt,gt,bt=((dt=function(n,i){var r,l=document.createElement("div");function s(){var t=n instanceof Element?n:document.querySelector(n);t.appendChild(r.base),r.onMount(t)}return function(n,i,r){var l,s,c;t.__p&&t.__p(n,i),s=(l=r===e)?null:i.__k,n=a(h,null,[n]),c=[],M(i,i.__k=n,s||u,u,void 0!==i.ownerSVGElement,s?null:o.slice.call(i.childNodes),c,!1,u,l),j(c,n)}(a(vt,Object.assign({},{ref:function(t){return r=t}},i)),l),"loading"!==document.readyState?s():document.addEventListener("DOMContentLoaded",s),r}).prototype=(vt=ht).prototype,Object.assign(dt,vt),dt.__component=vt,dt);!function(t){var n;t.version="5.2.3",t.Color=K,t.ColorPicker=bt,(n=t.ui||(t.ui={})).h=a,n.ComponentBase=ot,n.Handle=lt,n.Slider=st,n.Wheel=ft,n.Box=ct}(gt||(gt={}));var pt=gt;export{pt as i}