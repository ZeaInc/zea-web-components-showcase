import{r as i,h as t}from"./p-6fd09c7c.js";import{u as o}from"./p-c2a9f8c6.js";const e=class{constructor(t){i(this,t),this.appData={},this.onInput=this.onInput.bind(this),this.onBlur=this.onBlur.bind(this),globalThis.zeaEngine||console.warn("`zeaEngine` missing from the `globalThis` object and this component requires it")}componentDidLoad(){this.parameter&&(this.handleComponentUpdate(),this.updateComponent())}handleComponentUpdate(){this.parameter.on("valueChanged",()=>{this.updateComponent()})}updateComponent(){if(!this.parameterChange){const i=this.parameter.getValue();i.isValid()&&(this.minXField.value=i.p0.x,this.minYField.value=i.p0.y,this.minZField.value=i.p0.z,this.maxXField.value=i.p1.x,this.maxYField.value=i.p1.y,this.maxZField.value=i.p1.z)}}onInput(){if(!globalThis.zeaEngine)return void console.log("`zeaEngine` missing from `globalThis` object.");const{Box3:i}=globalThis.zeaEngine,t=new i;t.p0.set(this.minXField.valueAsNumber,this.minYField.valueAsNumber,this.minZField.valueAsNumber),t.p1.set(this.maxXField.valueAsNumber,this.maxYField.valueAsNumber,this.maxZField.valueAsNumber),this.handleUXChange(t)}onBlur(){this.parameterChange=void 0}handleUXChange(i){if(!globalThis.zeaUx)return void console.log("To add Undo/Redo functionalities just add `zeaUx` library to your `globalThis` object, because right now it is missing.");const{UndoRedoManager:t,ParameterValueChange:o}=globalThis.zeaUx,e=t.getInstance();this.parameterChange?this.parameterChange.update({value:i}):(this.parameterChange=new o(this.parameter,i),e.addChange(this.parameterChange))}render(){var i,o,e,n,s,l;return t("div",{class:"zea-param-widget-bbox"},t("fieldset",null,t("legend",null,"Min"),t("div",{class:"input-wrap"},t("label",null,"X"),t("input",{onInput:this.onInput,onBlur:this.onBlur,id:((null===(i=null==this?void 0:this.parameter)||void 0===i?void 0:i.getName())||"Box3Parameter")+"_minX",ref:i=>this.minXField=i,type:"number",pattern:"-?[0-9]*(.[0-9]+)?"})),t("div",{class:"input-wrap"},t("label",null,"Y"),t("input",{onInput:this.onInput,onBlur:this.onBlur,id:((null===(o=null==this?void 0:this.parameter)||void 0===o?void 0:o.getName())||"Box3Parameter")+"_minY",ref:i=>this.minYField=i,type:"number",pattern:"-?[0-9]*(.[0-9]+)?"})),t("div",{class:"input-wrap"},t("label",null,"Z"),t("input",{onInput:this.onInput,onBlur:this.onBlur,id:((null===(e=null==this?void 0:this.parameter)||void 0===e?void 0:e.getName())||"Box3Parameter")+"_minZ",ref:i=>this.minZField=i,type:"number",pattern:"-?[0-9]*(.[0-9]+)?"}))),t("fieldset",null,t("legend",null,"Max"),t("div",{class:"input-wrap"},t("label",null,"X"),t("input",{onInput:this.onInput,onBlur:this.onBlur,id:((null===(n=null==this?void 0:this.parameter)||void 0===n?void 0:n.getName())||"Box3Parameter")+"_maxX",ref:i=>this.maxXField=i,type:"number",pattern:"-?[0-9]*(.[0-9]+)?"})),t("div",{class:"input-wrap"},t("label",null,"Y"),t("input",{onInput:this.onInput,onBlur:this.onBlur,id:((null===(s=null==this?void 0:this.parameter)||void 0===s?void 0:s.getName())||"Box3Parameter")+"_maxY",ref:i=>this.maxYField=i,type:"number",pattern:"-?[0-9]*(.[0-9]+)?"})),t("div",{class:"input-wrap"},t("label",null,"Z"),t("input",{onInput:this.onInput,onBlur:this.onBlur,id:((null===(l=null==this?void 0:this.parameter)||void 0===l?void 0:l.getName())||"Box3Parameter")+"_maxZ",ref:i=>this.maxZField=i,type:"number",pattern:"-?[0-9]*(.[0-9]+)?"}))))}};o.registerWidget("zea-param-widget-bbox",i=>"Box3"===i.getDataType()),e.style=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-param-widget-bbox{color:var(--color-foreground-1);background-color:var(--color-background-2);max-width:400px}input{width:100%;box-sizing:border-box;padding:0.3em;font-size:0.9em;border:1px solid var(--color-grey-3);background-color:var(--color-background-3);text-align:right;color:var(--color-foreground-1)}.user-edited{box-shadow:0 0 8px var(--color-success-1);margin:0px}.input-wrap{display:flex;align-items:center;margin-bottom:0.5em}.input-wrap label{font-size:0.7em;padding:0.3em 1em 0.3em 0.3em;opacity:0.5;width:1.5em;text-align:center}fieldset{border:1px solid var(--color-grey-3)}legend{color:var(--color-foreground-2);font-size:0.8em}";export{e as Z}