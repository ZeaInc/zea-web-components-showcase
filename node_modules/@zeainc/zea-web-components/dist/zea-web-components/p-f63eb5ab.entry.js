import{r as t,h as i,a as s}from"./p-6fd09c7c.js";const o=class{constructor(i){t(this,i),this.offset=[0,0],this.leftOffset="",this.topOffset="",this.type="dropdown",this.orientation="vertical",this.shown=!1,this.showAnchor=!1,this.anchorIcon="ellipsis-vertical-circle-outline",this.contextualAlign="top-left",this.anchorIconSize=14}handleClick(t){t.currentTarget!=this.anchorElement?("contextual"!=this.type||this.isDescendant(this.hostElement,t.target)||(this.shown=!1),this.mouseIsDown=!1):this.shown=!this.shown}isDescendant(t,i){let s=i.parentNode;for(;null!=s;){if(s==t)return!0;s=s.parentNode}return!1}handleItemClick(t){"contextual"!=this.type||t.detail.hasSubitems||(this.shown=!1)}mousedownHandler(t){"toolbar"==this.type&&"ZEA-MENU"==t.currentTarget.tagName&&(this.mouseIsDown=!0,this.offset=[this.menuElement.offsetLeft-t.clientX,this.menuElement.offsetTop-t.clientY])}mousemoveHandler(t){"toolbar"==this.type&&this.mouseIsDown&&(this.menuElement.style.left=t.clientX+this.offset[0]+"px",this.menuElement.style.top=t.clientY+this.offset[1]+"px")}handleAnchorClick(t){this.handleClick(t),t.stopPropagation()}componentDidLoad(){"contextual"!=this.type&&(this.shown=!0)}componentDidRender(){this.setupChildren(),this.adjustPosition()}setupChildren(){this.itemsContainer.querySelector("slot").assignedNodes().forEach(t=>{"type"in t&&(t.type=this.type),"itemParent"in t&&(t.itemParent=this.hostElement),"rootMenu"in t&&(t.rootMenu=this.hostElement)})}adjustPosition(){"contextual"==this.type&&this.adjustContextualPosition()}adjustContextualPosition(){if(this.shown){const t=window.innerHeight,i=window.innerWidth;this.itemsContainer.style.transform="translate(0, 0)";const s=this.itemsContainer.getBoundingClientRect(),o=this.menuElement.getBoundingClientRect();let e="0",n="0";o.left+s.width>i&&(e="-100%"),o.top+s.height>t&&(n="-100%"),this.itemsContainer.style.transform=`translate(${e}, ${n})`}}render(){const t="contextual"==this.type&&this.showAnchor?i("div",{onMouseUp:this.handleAnchorClick.bind(this),class:"menu-anchor",ref:t=>this.anchorElement=t},i("zea-icon",{size:this.anchorIconSize,name:this.anchorIcon})):null,s={"zea-menu":!0};return s[this.type]=!0,s[this.orientation]=!0,s.shown=this.shown,s[this.contextualAlign]=!0,s["show-anchor"]=this.showAnchor,i("div",{class:s,ref:t=>this.menuElement=t},t,i("div",{ref:t=>this.itemsContainer=t,class:"items",style:{top:this.topOffset,left:this.leftOffset}},i("slot",null)))}get hostElement(){return s(this)}};o.style="*{cursor:default;user-select:none}:host{display:inline-block;vertical-align:middle}:host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-menu{color:var(--color-foreground-1);flex-direction:column}.zea-menu .items{display:none}.menu-anchor{color:var(--color-foreground-1)}.zea-menu.shown{color:var(--color-foreground-1);display:flex;flex-direction:column}.zea-menu.shown .items{display:inline-flex;flex-direction:column}.dropdown slot{display:flex}.zea-menu.contextual{position:relative}.contextual.menu-wrap{display:inline-block;position:relative;vertical-align:middle}.contextual .items{position:absolute;z-index:1000}.contextual.show-anchor .items{margin-top:25px}.contextual.top-right .items{transform:translateX(-100%);margin-left:100%}.toolbar.horizontal .items{flex-direction:row}.toolbar{background-color:var(--color-background-2);position:fixed;border-radius:30px}.dropdown .items,.contextual .items{background-color:var(--color-background-2)}";export{o as zea_menu}