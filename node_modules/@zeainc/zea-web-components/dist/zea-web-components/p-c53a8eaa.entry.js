import{r,h as t}from"./p-6fd09c7c.js";import{c as n}from"./p-443ca7c1.js";var e=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},i={}.toString,o=Array.isArray||function(r){return"[object Array]"==i.call(r)},u=(f.TYPED_ARRAY_SUPPORT=function(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===r.foo()}catch(r){return!1}}())?2147483647:1073741823;function f(r,t,n){return f.TYPED_ARRAY_SUPPORT||this instanceof f?"number"==typeof r?c(this,r):function(r,t,n,e){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(r,t,n,e){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(e||0))throw new RangeError("'length' is out of bounds");var i;return i=void 0===n&&void 0===e?new Uint8Array(t):void 0===e?new Uint8Array(t,n):new Uint8Array(t,n,e),f.TYPED_ARRAY_SUPPORT?i.__proto__=f.prototype:i=h(r,i),i}(r,t,n,e):"string"==typeof t?function(r,t){var n=0|w(t),e=s(r,n),i=e.write(t);return i!==n&&(e=e.slice(0,i)),e}(r,t):function(r,t){if(f.isBuffer(t)){var n=0|a(t.length),e=s(r,n);return 0===e.length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(r,0):h(r,t);if("Buffer"===t.type&&Array.isArray(t.data))return h(r,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(r,t)}(this,r,t,n):new f(r,t,n)}function a(r){if(r>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|r}function s(r,t){var n;return f.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=f.prototype:(null===(n=r)&&(n=new f(t)),n.length=t),n}function c(r,t){var n=s(r,t<0?0:0|a(t));if(!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)n[e]=0;return n}function h(r,t){for(var n=t.length<0?0:0|a(t.length),e=s(r,n),i=0;i<n;i+=1)e[i]=255&t[i];return e}function v(r,t){var n;t=t||1/0;for(var e=r.length,i=null,o=[],u=0;u<e;++u){if((n=r.charCodeAt(u))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(u+1===e){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function w(r){return f.isBuffer(r)?r.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer)?r.byteLength:("string"!=typeof r&&(r=""+r),0===r.length?0:v(r).length)}f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),f.prototype.write=function(r,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var e=this.length-t;if((void 0===n||n>e)&&(n=e),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(r,t,n,e){return function(r,t,n,e){for(var i=0;i<e&&!(i+n>=t.length||i>=r.length);++i)t[i+n]=r[i];return i}(v(t,r.length-n),r,n,e)}(this,r,t,n)},f.prototype.slice=function(r,t){var n,e=this.length;if((r=~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),(t=void 0===t?e:~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),t<r&&(t=r),f.TYPED_ARRAY_SUPPORT)(n=this.subarray(r,t)).__proto__=f.prototype;else{var i=t-r;n=new f(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+r]}return n},f.prototype.copy=function(r,t,n,e){if(n||(n=0),e||0===e||(e=this.length),t>=r.length&&(t=r.length),t||(t=0),e>0&&e<n&&(e=n),e===n)return 0;if(0===r.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),r.length-t<e-n&&(e=r.length-t+n);var i,o=e-n;if(this===r&&n<t&&t<e)for(i=o-1;i>=0;--i)r[i+t]=this[i+n];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)r[i+t]=this[i+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+o),t);return o},f.prototype.fill=function(r,t,n){if("string"==typeof r){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===r.length){var e=r.charCodeAt(0);e<256&&(r=e)}}else"number"==typeof r&&(r&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0),"number"==typeof r)for(i=t;i<n;++i)this[i]=r;else{var o=f.isBuffer(r)?r:new f(r),u=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%u]}return this},f.concat=function(r,t){if(!o(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return s(null,0);var n;if(void 0===t)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var e=c(null,t),i=0;for(n=0;n<r.length;++n){var u=r[n];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(e,i),i+=u.length}return e},f.byteLength=w,f.prototype._isBuffer=!0,f.isBuffer=function(r){return!(null==r||!r._isBuffer)};var d,l=function(r){var t=new f(r);return t.fill(0),t},g=function(r){return new f(r)},y=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],p=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return 4*r+17},m=function(r){return y[r]},b=function(r){for(var t=0;0!==r;)t++,r>>>=1;return t},E=function(){return void 0!==d},A=function(r){return d(r)},M=n((function(r,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(r){return r&&void 0!==r.bit&&r.bit>=0&&r.bit<4},t.from=function(r,n){if(t.isValid(r))return r;try{return function(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}(r)}catch(r){return n}}}));function B(){this.buffer=[],this.length=0}B.prototype={get:function(r){var t=Math.floor(r/8);return 1==(this.buffer[t]>>>7-r%8&1)},put:function(r,t){for(var n=0;n<t;n++)this.putBit(1==(r>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(r){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var R=B;function T(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=l(r*r),this.reservedBit=l(r*r)}T.prototype.set=function(r,t,n,e){var i=r*this.size+t;this.data[i]=n,e&&(this.reservedBit[i]=!0)},T.prototype.get=function(r,t){return this.data[r*this.size+t]},T.prototype.xor=function(r,t,n){this.data[r*this.size+t]^=n},T.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var x=T,k=n((function(r,t){var n=p;t.getRowColCoords=function(r){if(1===r)return[];for(var t=Math.floor(r/7)+2,e=n(r),i=145===e?26:2*Math.ceil((e-13)/(2*t-2)),o=[e-7],u=1;u<t-1;u++)o[u]=o[u-1]-i;return o.push(6),o.reverse()},t.getPositions=function(r){for(var n=[],e=t.getRowColCoords(r),i=e.length,o=0;o<i;o++)for(var u=0;u<i;u++)0===o&&0===u||0===o&&u===i-1||o===i-1&&0===u||n.push([e[o],e[u]]);return n}})),N=p,I=n((function(r,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function n(r,n,e){switch(r){case t.Patterns.PATTERN000:return(n+e)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return e%3==0;case t.Patterns.PATTERN011:return(n+e)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(e/3))%2==0;case t.Patterns.PATTERN101:return n*e%2+n*e%3==0;case t.Patterns.PATTERN110:return(n*e%2+n*e%3)%2==0;case t.Patterns.PATTERN111:return(n*e%3+(n+e)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}}t.isValid=function(r){return null!=r&&""!==r&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){for(var t=r.size,n=0,e=0,i=0,o=null,u=null,f=0;f<t;f++){e=i=0,o=u=null;for(var a=0;a<t;a++){var s=r.get(f,a);s===o?e++:(e>=5&&(n+=e-5+3),o=s,e=1),(s=r.get(a,f))===u?i++:(i>=5&&(n+=i-5+3),u=s,i=1)}e>=5&&(n+=e-5+3),i>=5&&(n+=i-5+3)}return n},t.getPenaltyN2=function(r){for(var t=r.size,n=0,e=0;e<t-1;e++)for(var i=0;i<t-1;i++){var o=r.get(e,i)+r.get(e,i+1)+r.get(e+1,i)+r.get(e+1,i+1);4!==o&&0!==o||n++}return 3*n},t.getPenaltyN3=function(r){for(var t=r.size,n=0,e=0,i=0,o=0;o<t;o++){e=i=0;for(var u=0;u<t;u++)e=e<<1&2047|r.get(o,u),u>=10&&(1488===e||93===e)&&n++,i=i<<1&2047|r.get(u,o),u>=10&&(1488===i||93===i)&&n++}return 40*n},t.getPenaltyN4=function(r){for(var t=0,n=r.data.length,e=0;e<n;e++)t+=r.data[e];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},t.applyMask=function(r,t){for(var e=t.size,i=0;i<e;i++)for(var o=0;o<e;o++)t.isReserved(o,i)||t.xor(o,i,n(r,o,i))},t.getBestMask=function(r,n){for(var e=Object.keys(t.Patterns).length,i=0,o=1/0,u=0;u<e;u++){n(u),t.applyMask(u,r);var f=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(u,r),f<o&&(o=f,i=u)}return i}})),U=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],S=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],_=function(r,t){switch(t){case M.L:return U[4*(r-1)+0];case M.M:return U[4*(r-1)+1];case M.Q:return U[4*(r-1)+2];case M.H:return U[4*(r-1)+3];default:return}},F=function(r,t){switch(t){case M.L:return S[4*(r-1)+0];case M.M:return S[4*(r-1)+1];case M.Q:return S[4*(r-1)+2];case M.H:return S[4*(r-1)+3];default:return}},C=l(512),P=l(256);!function(){for(var r=1,t=0;t<255;t++)C[t]=r,P[r]=t,256&(r<<=1)&&(r^=285);for(t=255;t<512;t++)C[t]=C[t-255]}();var z=function(r,t){return 0===r||0===t?0:C[P[r]+P[t]]},j=n((function(r,t){t.mul=function(r,t){for(var n=l(r.length+t.length-1),e=0;e<r.length;e++)for(var i=0;i<t.length;i++)n[e+i]^=z(r[e],t[i]);return n},t.mod=function(r,t){for(var n=g(r);n.length-t.length>=0;){for(var e=n[0],i=0;i<t.length;i++)n[i]^=z(t[i],e);for(var o=0;o<n.length&&0===n[o];)o++;n=n.slice(o)}return n},t.generateECPolynomial=function(r){for(var n=g([1]),e=0;e<r;e++)n=t.mul(n,[1,(i=e,C[i])]);var i;return n}}));const q="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};var L=[],$=[],O="undefined"!=typeof Uint8Array?Uint8Array:Array,Q=!1;function Z(){Q=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=r.length;t<n;++t)L[t]=r[t],$[r.charCodeAt(t)]=t;$["-".charCodeAt(0)]=62,$["_".charCodeAt(0)]=63}function D(r,t,n){for(var e,i=[],o=t;o<n;o+=3)i.push(L[(e=(r[o]<<16)+(r[o+1]<<8)+r[o+2])>>18&63]+L[e>>12&63]+L[e>>6&63]+L[63&e]);return i.join("")}function J(r,t,n,e,i){var o,u,f=8*i-e-1,a=(1<<f)-1,s=a>>1,c=-7,h=n?i-1:0,v=n?-1:1,w=r[t+h];for(h+=v,o=w&(1<<-c)-1,w>>=-c,c+=f;c>0;o=256*o+r[t+h],h+=v,c-=8);for(u=o&(1<<-c)-1,o>>=-c,c+=e;c>0;u=256*u+r[t+h],h+=v,c-=8);if(0===o)o=1-s;else{if(o===a)return u?NaN:1/0*(w?-1:1);u+=Math.pow(2,e),o-=s}return(w?-1:1)*u*Math.pow(2,o-e)}function K(r,t,n,e,i,o){var u,f,a,s=8*o-i-1,c=(1<<s)-1,h=c>>1,v=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,w=e?0:o-1,d=e?1:-1,l=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,u=c):(u=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-u))<1&&(u--,a*=2),(t+=u+h>=1?v/a:v*Math.pow(2,1-h))*a>=2&&(u++,a/=2),u+h>=c?(f=0,u=c):u+h>=1?(f=(t*a-1)*Math.pow(2,i),u+=h):(f=t*Math.pow(2,h-1)*Math.pow(2,i),u=0));i>=8;r[n+w]=255&f,w+=d,f/=256,i-=8);for(u=u<<i|f,s+=i;s>0;r[n+w]=255&u,w+=d,u/=256,s-=8);r[n+w-d]|=128*l}var Y={}.toString,H=Array.isArray||function(r){return"[object Array]"==Y.call(r)};W.TYPED_ARRAY_SUPPORT=void 0===q.TYPED_ARRAY_SUPPORT||q.TYPED_ARRAY_SUPPORT;var X=G();function G(){return W.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function V(r,t){if(G()<t)throw new RangeError("Invalid typed array length");return W.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t)).__proto__=W.prototype:(null===r&&(r=new W(t)),r.length=t),r}function W(r,t,n){if(!(W.TYPED_ARRAY_SUPPORT||this instanceof W))return new W(r,t,n);if("number"==typeof r){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return nr(this,r)}return rr(this,r,t,n)}function rr(r,t,n,e){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(r,t,n,e){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(e||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===e?new Uint8Array(t):void 0===e?new Uint8Array(t,n):new Uint8Array(t,n,e),W.TYPED_ARRAY_SUPPORT?(r=t).__proto__=W.prototype:r=er(r,t),r}(r,t,n,e):"string"==typeof t?function(r,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!W.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var e=0|ur(t,n),i=(r=V(r,e)).write(t,n);return i!==e&&(r=r.slice(0,i)),r}(r,t,n):function(r,t){if(or(t)){var n=0|ir(t.length);return 0===(r=V(r,n)).length||t.copy(r,0,0,n),r}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(e=t.length)!=e?V(r,0):er(r,t);if("Buffer"===t.type&&H(t.data))return er(r,t.data)}var e;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(r,t)}function tr(r){if("number"!=typeof r)throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function nr(r,t){if(tr(t),r=V(r,t<0?0:0|ir(t)),!W.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function er(r,t){var n=t.length<0?0:0|ir(t.length);r=V(r,n);for(var e=0;e<n;e+=1)r[e]=255&t[e];return r}function ir(r){if(r>=G())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G().toString(16)+" bytes");return 0|r}function or(r){return!(null==r||!r._isBuffer)}function ur(r,t){if(or(r))return r.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;"string"!=typeof r&&(r=""+r);var n=r.length;if(0===n)return 0;for(var e=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Ur(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Sr(r).length;default:if(e)return Ur(r).length;t=(""+t).toLowerCase(),e=!0}}function fr(r,t,n){var e=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return Er(this,t,n);case"utf8":case"utf-8":return pr(this,t,n);case"ascii":return mr(this,t,n);case"latin1":case"binary":return br(this,t,n);case"base64":return yr(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ar(this,t,n);default:if(e)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),e=!0}}function ar(r,t,n){var e=r[t];r[t]=r[n],r[n]=e}function sr(r,t,n,e,i){if(0===r.length)return-1;if("string"==typeof n?(e=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(i)return-1;n=r.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=W.from(t,e)),or(t))return 0===t.length?-1:cr(r,t,n,e,i);if("number"==typeof t)return t&=255,W.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(r,t,n):Uint8Array.prototype.lastIndexOf.call(r,t,n):cr(r,[t],n,e,i);throw new TypeError("val must be string, number or Buffer")}function cr(r,t,n,e,i){var o,u=1,f=r.length,a=t.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(r.length<2||t.length<2)return-1;u=2,f/=2,a/=2,n/=2}function s(r,t){return 1===u?r[t]:r.readUInt16BE(t*u)}if(i){var c=-1;for(o=n;o<f;o++)if(s(r,o)===s(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===a)return c*u}else-1!==c&&(o-=o-c),c=-1}else for(n+a>f&&(n=f-a),o=n;o>=0;o--){for(var h=!0,v=0;v<a;v++)if(s(r,o+v)!==s(t,v)){h=!1;break}if(h)return o}return-1}function hr(r,t,n,e){n=Number(n)||0;var i=r.length-n;e?(e=Number(e))>i&&(e=i):e=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");e>o/2&&(e=o/2);for(var u=0;u<e;++u){var f=parseInt(t.substr(2*u,2),16);if(isNaN(f))return u;r[n+u]=f}return u}function vr(r,t,n,e){return _r(Ur(t,r.length-n),r,n,e)}function wr(r,t,n,e){return _r(function(r){for(var t=[],n=0;n<r.length;++n)t.push(255&r.charCodeAt(n));return t}(t),r,n,e)}function dr(r,t,n,e){return wr(r,t,n,e)}function lr(r,t,n,e){return _r(Sr(t),r,n,e)}function gr(r,t,n,e){return _r(function(r,t){for(var n,e,i=[],o=0;o<r.length&&!((t-=2)<0);++o)e=(n=r.charCodeAt(o))>>8,i.push(n%256),i.push(e);return i}(t,r.length-n),r,n,e)}function yr(r,t,n){return function(r){var t;Q||Z();for(var n=r.length,e=n%3,i="",o=[],u=16383,f=0,a=n-e;f<a;f+=u)o.push(D(r,f,f+u>a?a:f+u));return 1===e?(i+=L[(t=r[n-1])>>2],i+=L[t<<4&63],i+="=="):2===e&&(i+=L[(t=(r[n-2]<<8)+r[n-1])>>10],i+=L[t>>4&63],i+=L[t<<2&63],i+="="),o.push(i),o.join("")}(0===t&&n===r.length?r:r.slice(t,n))}function pr(r,t,n){n=Math.min(r.length,n);for(var e=[],i=t;i<n;){var o,u,f,a,s=r[i],c=null,h=s>239?4:s>223?3:s>191?2:1;if(i+h<=n)switch(h){case 1:s<128&&(c=s);break;case 2:128==(192&(o=r[i+1]))&&(a=(31&s)<<6|63&o)>127&&(c=a);break;case 3:u=r[i+2],128==(192&(o=r[i+1]))&&128==(192&u)&&(a=(15&s)<<12|(63&o)<<6|63&u)>2047&&(a<55296||a>57343)&&(c=a);break;case 4:u=r[i+2],f=r[i+3],128==(192&(o=r[i+1]))&&128==(192&u)&&128==(192&f)&&(a=(15&s)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&a<1114112&&(c=a)}null===c?(c=65533,h=1):c>65535&&(e.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),e.push(c),i+=h}return function(r){var t=r.length;if(t<=4096)return String.fromCharCode.apply(String,r);for(var n="",e=0;e<t;)n+=String.fromCharCode.apply(String,r.slice(e,e+=4096));return n}(e)}function mr(r,t,n){var e="";n=Math.min(r.length,n);for(var i=t;i<n;++i)e+=String.fromCharCode(127&r[i]);return e}function br(r,t,n){var e="";n=Math.min(r.length,n);for(var i=t;i<n;++i)e+=String.fromCharCode(r[i]);return e}function Er(r,t,n){var e,i=r.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",u=t;u<n;++u)o+=(e=r[u])<16?"0"+e.toString(16):e.toString(16);return o}function Ar(r,t,n){for(var e=r.slice(t,n),i="",o=0;o<e.length;o+=2)i+=String.fromCharCode(e[o]+256*e[o+1]);return i}function Mr(r,t,n){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+t>n)throw new RangeError("Trying to access beyond buffer length")}function Br(r,t,n,e,i,o){if(!or(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+e>r.length)throw new RangeError("Index out of range")}function Rr(r,t,n,e){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(r.length-n,2);i<o;++i)r[n+i]=(t&255<<8*(e?i:1-i))>>>8*(e?i:1-i)}function Tr(r,t,n,e){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(r.length-n,4);i<o;++i)r[n+i]=t>>>8*(e?i:3-i)&255}function xr(r,t,n,e){if(n+e>r.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function kr(r,t,n,e,i){return i||xr(r,0,n,4),K(r,t,n,e,23,4),n+4}function Nr(r,t,n,e,i){return i||xr(r,0,n,8),K(r,t,n,e,52,8),n+8}W.poolSize=8192,W._augment=function(r){return r.__proto__=W.prototype,r},W.from=function(r,t,n){return rr(null,r,t,n)},W.TYPED_ARRAY_SUPPORT&&(W.prototype.__proto__=Uint8Array.prototype,W.__proto__=Uint8Array),W.alloc=function(r,t,n){return function(r,t,n,e){return tr(t),t<=0?V(r,t):void 0!==n?"string"==typeof e?V(r,t).fill(n,e):V(r,t).fill(n):V(r,t)}(null,r,t,n)},W.allocUnsafe=function(r){return nr(null,r)},W.allocUnsafeSlow=function(r){return nr(null,r)},W.isBuffer=Fr,W.compare=function(r,t){if(!or(r)||!or(t))throw new TypeError("Arguments must be Buffers");if(r===t)return 0;for(var n=r.length,e=t.length,i=0,o=Math.min(n,e);i<o;++i)if(r[i]!==t[i]){n=r[i],e=t[i];break}return n<e?-1:e<n?1:0},W.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},W.concat=function(r,t){if(!H(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return W.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var e=W.allocUnsafe(t),i=0;for(n=0;n<r.length;++n){var o=r[n];if(!or(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(e,i),i+=o.length}return e},W.byteLength=ur,W.prototype._isBuffer=!0,W.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)ar(this,t,t+1);return this},W.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)ar(this,t,t+3),ar(this,t+1,t+2);return this},W.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)ar(this,t,t+7),ar(this,t+1,t+6),ar(this,t+2,t+5),ar(this,t+3,t+4);return this},W.prototype.toString=function(){var r=0|this.length;return 0===r?"":0===arguments.length?pr(this,0,r):fr.apply(this,arguments)},W.prototype.equals=function(r){if(!or(r))throw new TypeError("Argument must be a Buffer");return this===r||0===W.compare(this,r)},W.prototype.inspect=function(){var r="";return this.length>0&&(r=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(r+=" ... ")),"<Buffer "+r+">"},W.prototype.compare=function(r,t,n,e,i){if(!or(r))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=r?r.length:0),void 0===e&&(e=0),void 0===i&&(i=this.length),t<0||n>r.length||e<0||i>this.length)throw new RangeError("out of range index");if(e>=i&&t>=n)return 0;if(e>=i)return-1;if(t>=n)return 1;if(this===r)return 0;for(var o=(i>>>=0)-(e>>>=0),u=(n>>>=0)-(t>>>=0),f=Math.min(o,u),a=this.slice(e,i),s=r.slice(t,n),c=0;c<f;++c)if(a[c]!==s[c]){o=a[c],u=s[c];break}return o<u?-1:u<o?1:0},W.prototype.includes=function(r,t,n){return-1!==this.indexOf(r,t,n)},W.prototype.indexOf=function(r,t,n){return sr(this,r,t,n,!0)},W.prototype.lastIndexOf=function(r,t,n){return sr(this,r,t,n,!1)},W.prototype.write=function(r,t,n,e){if(void 0===t)e="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)e=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===e&&(e="utf8")):(e=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");e||(e="utf8");for(var o=!1;;)switch(e){case"hex":return hr(this,r,t,n);case"utf8":case"utf-8":return vr(this,r,t,n);case"ascii":return wr(this,r,t,n);case"latin1":case"binary":return dr(this,r,t,n);case"base64":return lr(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gr(this,r,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),o=!0}},W.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},W.prototype.slice=function(r,t){var n,e=this.length;if((r=~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),(t=void 0===t?e:~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),t<r&&(t=r),W.TYPED_ARRAY_SUPPORT)(n=this.subarray(r,t)).__proto__=W.prototype;else{var i=t-r;n=new W(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+r]}return n},W.prototype.readUIntLE=function(r,t,n){r|=0,t|=0,n||Mr(r,t,this.length);for(var e=this[r],i=1,o=0;++o<t&&(i*=256);)e+=this[r+o]*i;return e},W.prototype.readUIntBE=function(r,t,n){r|=0,t|=0,n||Mr(r,t,this.length);for(var e=this[r+--t],i=1;t>0&&(i*=256);)e+=this[r+--t]*i;return e},W.prototype.readUInt8=function(r,t){return t||Mr(r,1,this.length),this[r]},W.prototype.readUInt16LE=function(r,t){return t||Mr(r,2,this.length),this[r]|this[r+1]<<8},W.prototype.readUInt16BE=function(r,t){return t||Mr(r,2,this.length),this[r]<<8|this[r+1]},W.prototype.readUInt32LE=function(r,t){return t||Mr(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},W.prototype.readUInt32BE=function(r,t){return t||Mr(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},W.prototype.readIntLE=function(r,t,n){r|=0,t|=0,n||Mr(r,t,this.length);for(var e=this[r],i=1,o=0;++o<t&&(i*=256);)e+=this[r+o]*i;return e>=(i*=128)&&(e-=Math.pow(2,8*t)),e},W.prototype.readIntBE=function(r,t,n){r|=0,t|=0,n||Mr(r,t,this.length);for(var e=t,i=1,o=this[r+--e];e>0&&(i*=256);)o+=this[r+--e]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},W.prototype.readInt8=function(r,t){return t||Mr(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},W.prototype.readInt16LE=function(r,t){t||Mr(r,2,this.length);var n=this[r]|this[r+1]<<8;return 32768&n?4294901760|n:n},W.prototype.readInt16BE=function(r,t){t||Mr(r,2,this.length);var n=this[r+1]|this[r]<<8;return 32768&n?4294901760|n:n},W.prototype.readInt32LE=function(r,t){return t||Mr(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},W.prototype.readInt32BE=function(r,t){return t||Mr(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},W.prototype.readFloatLE=function(r,t){return t||Mr(r,4,this.length),J(this,r,!0,23,4)},W.prototype.readFloatBE=function(r,t){return t||Mr(r,4,this.length),J(this,r,!1,23,4)},W.prototype.readDoubleLE=function(r,t){return t||Mr(r,8,this.length),J(this,r,!0,52,8)},W.prototype.readDoubleBE=function(r,t){return t||Mr(r,8,this.length),J(this,r,!1,52,8)},W.prototype.writeUIntLE=function(r,t,n,e){r=+r,t|=0,n|=0,e||Br(this,r,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&r;++o<n&&(i*=256);)this[t+o]=r/i&255;return t+n},W.prototype.writeUIntBE=function(r,t,n,e){r=+r,t|=0,n|=0,e||Br(this,r,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&r;--i>=0&&(o*=256);)this[t+i]=r/o&255;return t+n},W.prototype.writeUInt8=function(r,t,n){return r=+r,t|=0,n||Br(this,r,t,1,255,0),W.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[t]=255&r,t+1},W.prototype.writeUInt16LE=function(r,t,n){return r=+r,t|=0,n||Br(this,r,t,2,65535,0),W.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8):Rr(this,r,t,!0),t+2},W.prototype.writeUInt16BE=function(r,t,n){return r=+r,t|=0,n||Br(this,r,t,2,65535,0),W.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=255&r):Rr(this,r,t,!1),t+2},W.prototype.writeUInt32LE=function(r,t,n){return r=+r,t|=0,n||Br(this,r,t,4,4294967295,0),W.TYPED_ARRAY_SUPPORT?(this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=255&r):Tr(this,r,t,!0),t+4},W.prototype.writeUInt32BE=function(r,t,n){return r=+r,t|=0,n||Br(this,r,t,4,4294967295,0),W.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r):Tr(this,r,t,!1),t+4},W.prototype.writeIntLE=function(r,t,n,e){if(r=+r,t|=0,!e){var i=Math.pow(2,8*n-1);Br(this,r,t,n,i-1,-i)}var o=0,u=1,f=0;for(this[t]=255&r;++o<n&&(u*=256);)r<0&&0===f&&0!==this[t+o-1]&&(f=1),this[t+o]=(r/u>>0)-f&255;return t+n},W.prototype.writeIntBE=function(r,t,n,e){if(r=+r,t|=0,!e){var i=Math.pow(2,8*n-1);Br(this,r,t,n,i-1,-i)}var o=n-1,u=1,f=0;for(this[t+o]=255&r;--o>=0&&(u*=256);)r<0&&0===f&&0!==this[t+o+1]&&(f=1),this[t+o]=(r/u>>0)-f&255;return t+n},W.prototype.writeInt8=function(r,t,n){return r=+r,t|=0,n||Br(this,r,t,1,127,-128),W.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[t]=255&r,t+1},W.prototype.writeInt16LE=function(r,t,n){return r=+r,t|=0,n||Br(this,r,t,2,32767,-32768),W.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8):Rr(this,r,t,!0),t+2},W.prototype.writeInt16BE=function(r,t,n){return r=+r,t|=0,n||Br(this,r,t,2,32767,-32768),W.TYPED_ARRAY_SUPPORT?(this[t]=r>>>8,this[t+1]=255&r):Rr(this,r,t,!1),t+2},W.prototype.writeInt32LE=function(r,t,n){return r=+r,t|=0,n||Br(this,r,t,4,2147483647,-2147483648),W.TYPED_ARRAY_SUPPORT?(this[t]=255&r,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24):Tr(this,r,t,!0),t+4},W.prototype.writeInt32BE=function(r,t,n){return r=+r,t|=0,n||Br(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),W.TYPED_ARRAY_SUPPORT?(this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r):Tr(this,r,t,!1),t+4},W.prototype.writeFloatLE=function(r,t,n){return kr(this,r,t,!0,n)},W.prototype.writeFloatBE=function(r,t,n){return kr(this,r,t,!1,n)},W.prototype.writeDoubleLE=function(r,t,n){return Nr(this,r,t,!0,n)},W.prototype.writeDoubleBE=function(r,t,n){return Nr(this,r,t,!1,n)},W.prototype.copy=function(r,t,n,e){if(n||(n=0),e||0===e||(e=this.length),t>=r.length&&(t=r.length),t||(t=0),e>0&&e<n&&(e=n),e===n)return 0;if(0===r.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),r.length-t<e-n&&(e=r.length-t+n);var i,o=e-n;if(this===r&&n<t&&t<e)for(i=o-1;i>=0;--i)r[i+t]=this[i+n];else if(o<1e3||!W.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)r[i+t]=this[i+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+o),t);return o},W.prototype.fill=function(r,t,n,e){if("string"==typeof r){if("string"==typeof t?(e=t,t=0,n=this.length):"string"==typeof n&&(e=n,n=this.length),1===r.length){var i=r.charCodeAt(0);i<256&&(r=i)}if(void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!W.isEncoding(e))throw new TypeError("Unknown encoding: "+e)}else"number"==typeof r&&(r&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0),"number"==typeof r)for(o=t;o<n;++o)this[o]=r;else{var u=or(r)?r:Ur(new W(r,e).toString()),f=u.length;for(o=0;o<n-t;++o)this[o+t]=u[o%f]}return this};var Ir=/[^+\/0-9A-Za-z-_]/g;function Ur(r,t){var n;t=t||1/0;for(var e=r.length,i=null,o=[],u=0;u<e;++u){if((n=r.charCodeAt(u))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(u+1===e){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Sr(r){return function(r){var t,n,e,i,o,u;Q||Z();var f=r.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");u=new O(3*f/4-(o="="===r[f-2]?2:"="===r[f-1]?1:0)),e=o>0?f-4:f;var a=0;for(t=0,n=0;t<e;t+=4,n+=3)i=$[r.charCodeAt(t)]<<18|$[r.charCodeAt(t+1)]<<12|$[r.charCodeAt(t+2)]<<6|$[r.charCodeAt(t+3)],u[a++]=i>>16&255,u[a++]=i>>8&255,u[a++]=255&i;return 2===o?(i=$[r.charCodeAt(t)]<<2|$[r.charCodeAt(t+1)]>>4,u[a++]=255&i):1===o&&(i=$[r.charCodeAt(t)]<<10|$[r.charCodeAt(t+1)]<<4|$[r.charCodeAt(t+2)]>>2,u[a++]=i>>8&255,u[a++]=255&i),u}(function(r){if((r=function(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}(r).replace(Ir,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(r))}function _r(r,t,n,e){for(var i=0;i<e&&!(i+n>=t.length||i>=r.length);++i)t[i+n]=r[i];return i}function Fr(r){return null!=r&&(!!r._isBuffer||Cr(r)||function(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&Cr(r.slice(0,0))}(r))}function Cr(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}var Pr=Object.freeze({__proto__:null,Buffer:W,INSPECT_MAX_BYTES:50,SlowBuffer:function(r){return+r!=r&&(r=0),W.alloc(+r)},isBuffer:Fr,kMaxLength:X}).Buffer;function zr(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}zr.prototype.initialize=function(r){this.degree=r,this.genPoly=j.generateECPolynomial(this.degree)},zr.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");var t=l(this.degree),n=Pr.concat([r,t],r.length+this.degree),e=j.mod(n,this.genPoly),i=this.degree-e.length;if(i>0){var o=l(this.degree);return e.copy(o,i),o}return e};var jr=zr,qr=function(r){return!isNaN(r)&&r>=1&&r<=40},Lr="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",$r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(Lr=Lr.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",Or=new RegExp(Lr,"g"),Qr=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Zr=new RegExp($r,"g"),Dr=new RegExp("[0-9]+","g"),Jr=new RegExp("[A-Z $%*+\\-./:]+","g"),Kr=new RegExp("^"+Lr+"$"),Yr=new RegExp("^[0-9]+$"),Hr=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),Xr={KANJI:Or,BYTE_KANJI:Qr,BYTE:Zr,NUMERIC:Dr,ALPHANUMERIC:Jr,testKanji:function(r){return Kr.test(r)},testNumeric:function(r){return Yr.test(r)},testAlphanumeric:function(r){return Hr.test(r)}},Gr=n((function(r,t){t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(r,t){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!qr(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?r.ccBits[0]:t<27?r.ccBits[1]:r.ccBits[2]},t.getBestModeForData=function(r){return Xr.testNumeric(r)?t.NUMERIC:Xr.testAlphanumeric(r)?t.ALPHANUMERIC:Xr.testKanji(r)?t.KANJI:t.BYTE},t.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},t.isValid=function(r){return r&&r.bit&&r.ccBits},t.from=function(r,n){if(t.isValid(r))return r;try{return function(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}(r)}catch(r){return n}}})),Vr=n((function(r,t){var n=b(7973);function e(r,t){return Gr.getCharCountIndicator(r,t)+4}function i(r,t){var n=0;return r.forEach((function(r){var i=e(r.mode,t);n+=i+r.getBitsLength()})),n}t.from=function(r,t){return qr(r)?parseInt(r,10):t},t.getCapacity=function(r,t,n){if(!qr(r))throw new Error("Invalid QR Code version");void 0===n&&(n=Gr.BYTE);var i=8*(m(r)-F(r,t));if(n===Gr.MIXED)return i;var o=i-e(n,r);switch(n){case Gr.NUMERIC:return Math.floor(o/10*3);case Gr.ALPHANUMERIC:return Math.floor(o/11*2);case Gr.KANJI:return Math.floor(o/13);case Gr.BYTE:default:return Math.floor(o/8)}},t.getBestVersionForData=function(r,n){var e,u=M.from(n,M.M);if(o(r)){if(r.length>1)return function(r,n){for(var e=1;e<=40;e++)if(i(r,e)<=t.getCapacity(e,n,Gr.MIXED))return e}(r,u);if(0===r.length)return 1;e=r[0]}else e=r;return function(r,n,e){for(var i=1;i<=40;i++)if(n<=t.getCapacity(i,e,r))return i}(e.mode,e.getLength(),u)},t.getEncodedBits=function(r){if(!qr(r)||r<7)throw new Error("Invalid QR Code version");for(var t=r<<12;b(t)-n>=0;)t^=7973<<b(t)-n;return r<<12|t}})),Wr=b(1335);function rt(r){this.mode=Gr.NUMERIC,this.data=r.toString()}rt.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},rt.prototype.getLength=function(){return this.data.length},rt.prototype.getBitsLength=function(){return rt.getBitsLength(this.data.length)},rt.prototype.write=function(r){var t,n,e;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),e=parseInt(n,10),r.put(e,10);var i=this.data.length-t;i>0&&(n=this.data.substr(t),e=parseInt(n,10),r.put(e,3*i+1))};var tt=rt,nt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function et(r){this.mode=Gr.ALPHANUMERIC,this.data=r}et.getBitsLength=function(r){return 11*Math.floor(r/2)+r%2*6},et.prototype.getLength=function(){return this.data.length},et.prototype.getBitsLength=function(){return et.getBitsLength(this.data.length)},et.prototype.write=function(r){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*nt.indexOf(this.data[t]);n+=nt.indexOf(this.data[t+1]),r.put(n,11)}this.data.length%2&&r.put(nt.indexOf(this.data[t]),6)};var it=et;function ot(r){this.mode=Gr.BYTE,this.data=g(r)}ot.getBitsLength=function(r){return 8*r},ot.prototype.getLength=function(){return this.data.length},ot.prototype.getBitsLength=function(){return ot.getBitsLength(this.data.length)},ot.prototype.write=function(r){for(var t=0,n=this.data.length;t<n;t++)r.put(this.data[t],8)};var ut=ot;function ft(r){this.mode=Gr.KANJI,this.data=r}ft.getBitsLength=function(r){return 13*r},ft.prototype.getLength=function(){return this.data.length},ft.prototype.getBitsLength=function(){return ft.getBitsLength(this.data.length)},ft.prototype.write=function(r){var t;for(t=0;t<this.data.length;t++){var n=A(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}r.put(n=192*(n>>>8&255)+(255&n),13)}};var at=ft,st=n((function(r){var t={single_source_shortest_paths:function(r,n,e){var i={},o={};o[n]=0;var u,f,a,s,c,h,v=t.PriorityQueue.make();for(v.push(n,0);!v.empty();)for(a in s=(u=v.pop()).cost,c=r[f=u.value]||{})c.hasOwnProperty(a)&&(h=s+c[a],(void 0===o[a]||o[a]>h)&&(o[a]=h,v.push(a,h),i[a]=f));if(void 0!==e&&void 0===o[e]){var w=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(w)}return i},extract_shortest_path_from_predecessor_list:function(r,t){for(var n=[],e=t;e;)n.push(e),e=r[e];return n.reverse(),n},find_path:function(r,n,e){var i=t.single_source_shortest_paths(r,n,e);return t.extract_shortest_path_from_predecessor_list(i,e)},PriorityQueue:{make:function(r){var n,e=t.PriorityQueue,i={};for(n in r=r||{},e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i.queue=[],i.sorter=r.sorter||e.default_sorter,i},default_sorter:function(r,t){return r.cost-t.cost},push:function(r,t){this.queue.push({value:r,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};r.exports=t})),ct=n((function(r,t){function n(r){return unescape(encodeURIComponent(r)).length}function e(r,t,n){for(var e,i=[];null!==(e=r.exec(n));)i.push({data:e[0],index:e.index,mode:t,length:e[0].length});return i}function i(r){var t,n,i=e(Xr.NUMERIC,Gr.NUMERIC,r),o=e(Xr.ALPHANUMERIC,Gr.ALPHANUMERIC,r);return E()?(t=e(Xr.BYTE,Gr.BYTE,r),n=e(Xr.KANJI,Gr.KANJI,r)):(t=e(Xr.BYTE_KANJI,Gr.BYTE,r),n=[]),i.concat(o,t,n).sort((function(r,t){return r.index-t.index})).map((function(r){return{data:r.data,mode:r.mode,length:r.length}}))}function o(r,t){switch(t){case Gr.NUMERIC:return tt.getBitsLength(r);case Gr.ALPHANUMERIC:return it.getBitsLength(r);case Gr.KANJI:return at.getBitsLength(r);case Gr.BYTE:return ut.getBitsLength(r)}}function u(r,t){var n,e=Gr.getBestModeForData(r);if((n=Gr.from(t,e))!==Gr.BYTE&&n.bit<e.bit)throw new Error('"'+r+'" cannot be encoded with mode '+Gr.toString(n)+".\n Suggested mode is: "+Gr.toString(e));switch(n!==Gr.KANJI||E()||(n=Gr.BYTE),n){case Gr.NUMERIC:return new tt(r);case Gr.ALPHANUMERIC:return new it(r);case Gr.KANJI:return new at(r);case Gr.BYTE:return new ut(r)}}t.fromArray=function(r){return r.reduce((function(r,t){return"string"==typeof t?r.push(u(t,null)):t.data&&r.push(u(t.data,t.mode)),r}),[])},t.fromString=function(r,e){for(var u=function(r,t){for(var n={},e={start:{}},i=["start"],u=0;u<r.length;u++){for(var f=r[u],a=[],s=0;s<f.length;s++){var c=f[s],h=""+u+s;a.push(h),n[h]={node:c,lastCount:0},e[h]={};for(var v=0;v<i.length;v++){var w=i[v];n[w]&&n[w].node.mode===c.mode?(e[w][h]=o(n[w].lastCount+c.length,c.mode)-o(n[w].lastCount,c.mode),n[w].lastCount+=c.length):(n[w]&&(n[w].lastCount=c.length),e[w][h]=o(c.length,c.mode)+4+Gr.getCharCountIndicator(c.mode,t))}}i=a}for(v=0;v<i.length;v++)e[i[v]].end=0;return{map:e,table:n}}(function(r){for(var t=[],e=0;e<r.length;e++){var i=r[e];switch(i.mode){case Gr.NUMERIC:t.push([i,{data:i.data,mode:Gr.ALPHANUMERIC,length:i.length},{data:i.data,mode:Gr.BYTE,length:i.length}]);break;case Gr.ALPHANUMERIC:t.push([i,{data:i.data,mode:Gr.BYTE,length:i.length}]);break;case Gr.KANJI:t.push([i,{data:i.data,mode:Gr.BYTE,length:n(i.data)}]);break;case Gr.BYTE:t.push([{data:i.data,mode:Gr.BYTE,length:n(i.data)}])}}return t}(i(r,E())),e),f=st.find_path(u.map,"start","end"),a=[],s=1;s<f.length-1;s++)a.push(u.table[f[s]].node);return t.fromArray(a.reduce((function(r,t){var n=r.length-1>=0?r[r.length-1]:null;return n&&n.mode===t.mode?(r[r.length-1].data+=t.data,r):(r.push(t),r)}),[]))},t.rawSplit=function(r){return t.fromArray(i(r,E()))}}));function ht(r,t,n){var e,i,o=r.size,u=function(r,t){for(var n=r.bit<<3|t,e=n<<10;b(e)-Wr>=0;)e^=1335<<b(e)-Wr;return 21522^(n<<10|e)}(t,n);for(e=0;e<15;e++)r.set(e<6?e:e<8?e+1:o-15+e,8,i=1==(u>>e&1),!0),r.set(8,e<8?o-e-1:e<9?15-e-1+1:15-e-1,i,!0);r.set(o-8,8,1,!0)}function vt(r,t,n,e){var i;if(o(r))i=ct.fromArray(r);else{if("string"!=typeof r)throw new Error("Invalid data");var u=t;if(!u){var f=ct.rawSplit(r);u=Vr.getBestVersionForData(f,n)}i=ct.fromString(r,u||40)}var a=Vr.getBestVersionForData(i,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<a)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else t=a;var s=function(r,t,n){var e=new R;n.forEach((function(t){e.put(t.mode.bit,4),e.put(t.getLength(),Gr.getCharCountIndicator(t.mode,r)),t.write(e)}));var i=8*(m(r)-F(r,t));for(e.getLengthInBits()+4<=i&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(0);for(var o=(i-e.getLengthInBits())/8,u=0;u<o;u++)e.put(u%2?17:236,8);return function(r,t,n){for(var e=m(t),i=e-F(t,n),o=_(t,n),u=o-e%o,f=Math.floor(e/o),a=Math.floor(i/o),s=a+1,c=f-a,h=new jr(c),v=0,w=new Array(o),d=new Array(o),y=0,p=g(r.buffer),b=0;b<o;b++){var E=b<u?a:s;w[b]=p.slice(v,v+E),d[b]=h.encode(w[b]),v+=E,y=Math.max(y,E)}var A,M,B=l(e),R=0;for(A=0;A<y;A++)for(M=0;M<o;M++)A<w[M].length&&(B[R++]=w[M][A]);for(A=0;A<c;A++)for(M=0;M<o;M++)B[R++]=d[M][A];return B}(e,r,t)}(t,n,i),c=p(t),h=new x(c);return function(r,t){for(var n=r.size,e=function(r){var t=N(r);return[[0,0],[t-7,0],[0,t-7]]}(t),i=0;i<e.length;i++)for(var o=e[i][0],u=e[i][1],f=-1;f<=7;f++)if(!(o+f<=-1||n<=o+f))for(var a=-1;a<=7;a++)u+a<=-1||n<=u+a||r.set(o+f,u+a,f>=0&&f<=6&&(0===a||6===a)||a>=0&&a<=6&&(0===f||6===f)||f>=2&&f<=4&&a>=2&&a<=4,!0)}(h,t),function(r){for(var t=r.size,n=8;n<t-8;n++){var e=n%2==0;r.set(n,6,e,!0),r.set(6,n,e,!0)}}(h),function(r,t){for(var n=k.getPositions(t),e=0;e<n.length;e++)for(var i=n[e][0],o=n[e][1],u=-2;u<=2;u++)for(var f=-2;f<=2;f++)r.set(i+u,o+f,-2===u||2===u||-2===f||2===f||0===u&&0===f,!0)}(h,t),ht(h,n,0),t>=7&&function(r,t){for(var n,e,i,o=r.size,u=Vr.getEncodedBits(t),f=0;f<18;f++)n=Math.floor(f/3),r.set(n,e=f%3+o-8-3,i=1==(u>>f&1),!0),r.set(e,n,i,!0)}(h,t),function(r,t){for(var n=r.size,e=-1,i=n-1,o=7,u=0,f=n-1;f>0;f-=2)for(6===f&&f--;;){for(var a=0;a<2;a++)if(!r.isReserved(i,f-a)){var s=!1;u<t.length&&(s=1==(t[u]>>>o&1)),r.set(i,f-a,s),-1==--o&&(u++,o=7)}if((i+=e)<0||n<=i){i-=e,e=-e;break}}}(h,s),isNaN(e)&&(e=I.getBestMask(h,ht.bind(null,h,n))),I.applyMask(e,h),ht(h,n,e),{modules:h,version:t,errorCorrectionLevel:n,maskPattern:e,segments:i}}var wt=function(r,t){if(void 0===r||""===r)throw new Error("No input text");var n,e,i=M.M;return void 0!==t&&(i=M.from(t.errorCorrectionLevel,M.M),n=Vr.from(t.version),e=I.from(t.maskPattern),t.toSJISFunc&&function(r){if("function"!=typeof r)throw new Error('"toSJISFunc" is not a valid function.');d=r}(t.toSJISFunc)),vt(r,n,i,e)},dt=n((function(r,t){function n(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");var t=r.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+r);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(r){return[r,r]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});var t=r.width&&r.width>=21?r.width:void 0;return{width:t,scale:t?4:r.scale||4,margin:null==r.margin||r.margin<0?4:r.margin,color:{dark:n(r.color.dark||"#000000ff"),light:n(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,t){return t.width&&t.width>=r+2*t.margin?t.width/(r+2*t.margin):t.scale},t.getImageWidth=function(r,n){var e=t.getScale(r,n);return Math.floor((r+2*n.margin)*e)},t.qrToImageData=function(r,n,e){for(var i=n.modules.size,o=n.modules.data,u=t.getScale(i,e),f=Math.floor((i+2*e.margin)*u),a=e.margin*u,s=[e.color.light,e.color.dark],c=0;c<f;c++)for(var h=0;h<f;h++){var v=4*(c*f+h),w=e.color.light;c>=a&&h>=a&&c<f-a&&h<f-a&&(w=s[o[Math.floor((c-a)/u)*i+Math.floor((h-a)/u)]?1:0]),r[v++]=w.r,r[v++]=w.g,r[v++]=w.b,r[v]=w.a}}})),lt=n((function(r,t){t.render=function(r,t,n){var e=n,i=t;void 0!==e||t&&t.getContext||(e=t,t=void 0),t||(i=function(){try{return document.createElement("canvas")}catch(r){throw new Error("You need to specify a canvas element")}}()),e=dt.getOptions(e);var o=dt.getImageWidth(r.modules.size,e),u=i.getContext("2d"),f=u.createImageData(o,o);return dt.qrToImageData(f.data,r,e),function(r,t,n){r.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(u,i,o),u.putImageData(f,0,0),i},t.renderToDataURL=function(r,n,e){var i=e;return void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={}),t.render(r,n,i).toDataURL(i.type||"image/png",(i.rendererOpts||{}).quality)}}));function gt(r,t){var n=r.a/255,e=t+'="'+r.hex+'"';return n<1?e+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':e}function yt(r,t,n){var e=r+t;return void 0!==n&&(e+=" "+n),e}function pt(r,t,n,i,o){var u=[].slice.call(arguments,1),f=u.length,a="function"==typeof u[f-1];if(!a&&!e())throw new Error("Callback required as last argument");if(!a){if(f<1)throw new Error("Too few arguments provided");return 1===f?(n=t,t=i=void 0):2!==f||t.getContext||(i=n,n=t,t=void 0),new Promise((function(e,o){try{var u=wt(n,i);e(r(u,t,i))}catch(r){o(r)}}))}if(f<2)throw new Error("Too few arguments provided");2===f?(o=n,n=t,t=i=void 0):3===f&&(t.getContext&&void 0===o?(o=i,i=void 0):(o=i,i=n,n=t,t=void 0));try{var s=wt(n,i);o(null,r(s,t,i))}catch(r){o(r)}}var mt={create:wt,toCanvas:pt.bind(null,lt.render),toDataURL:pt.bind(null,lt.renderToDataURL),toString:pt.bind(null,(function(r,t,n){return function(r,t,n){var e=dt.getOptions(t),i=r.modules.size,o=r.modules.data,u=i+2*e.margin,f=e.color.light.a?"<path "+gt(e.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",a="<path "+gt(e.color.dark,"stroke")+' d="'+function(r,t,n){for(var e="",i=0,o=!1,u=0,f=0;f<r.length;f++){var a=Math.floor(f%t),s=Math.floor(f/t);a||o||(o=!0),r[f]?(u++,f>0&&a>0&&r[f-1]||(e+=o?yt("M",a+n,.5+s+n):yt("m",i,0),i=0,o=!1),a+1<t&&r[f+1]||(e+=yt("h",u),u=0)):i++}return e}(o,i,e.margin)+'"/>',s='<svg xmlns="http://www.w3.org/2000/svg" '+(e.width?'width="'+e.width+'" height="'+e.width+'" ':"")+'viewBox="0 0 '+u+" "+u+'" shape-rendering="crispEdges">'+f+a+"</svg>\n";return"function"==typeof n&&n(null,s),s}(r,n)}))};const bt=class{constructor(t){r(this,t),this.content=window.location.href,this.scale=4}onContentChanged(){this.makeQR()}componentDidLoad(){this.makeQR()}makeQR(){this.canvas&&this.canvas.remove(),mt.toCanvas(this.content,{scale:this.scale}).then(r=>{this.canvas=r,this.container.appendChild(this.canvas)})}render(){return t("div",{class:"zea-qr-code",ref:r=>this.container=r})}static get watchers(){return{content:["onContentChanged"]}}};bt.style=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-qr-code{--zea-qr-code-color:var(--theme-color);color:var(--zea-qr-code-color);display:flex;align-items:center;justify-content:center;width:100%;height:100%}.zea-qr-code canvas{width:auto !important;height:auto !important;max-width:100%;padding:1em 0;box-sizing:border-box}";export{bt as zea_qr_code}